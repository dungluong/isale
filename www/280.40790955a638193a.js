"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[280],{280:(et,g,i)=>{i.d(g,{e:()=>V});var t=i(6738),d=i(5439),l=i(1914),s=i(6723),m=i(3306),_=i(6895),f=i(4006),c=i(191);function u(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"ion-checkbox",14),t.NdJ("ngModelChange",function(a){t.CHM(n);const tt=t.oxw();return t.KtG(tt.order.isSelected=a)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("ngModel",n.order.isSelected)}}function x(e,r){1&e&&(t.TgZ(0,"ion-text",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"order-detail.status-draft")))}function I(e,r){1&e&&(t.TgZ(0,"ion-text",7),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"order-detail.status-inprogress")," "))}function Z(e,r){1&e&&(t.TgZ(0,"ion-text",7),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"order-detail.status-shipping")," "))}function T(e,r){1&e&&(t.TgZ(0,"ion-text",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"order-detail.status-done")," "))}function A(e,r){1&e&&(t.TgZ(0,"ion-text",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"order-detail.status-cancel")," "))}function L(e,r){1&e&&(t.TgZ(0,"ion-text",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"order-detail.status-has-debt")," "))}function O(e,r){1&e&&(t.TgZ(0,"ion-text",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"order-detail.status-shipping-has-debt")," "))}function h(e,r){1&e&&(t.TgZ(0,"ion-text",7),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"order-detail.status-deposit")," "))}const p=function(e,r,n){return[e,r,"symbol","1.0-2",n]};function C(e,r){if(1&e&&(t.TgZ(0,"p")(1,"ion-text",7),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"currency"),t.ALo(5,"translate"),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.HOy("",t.lcZ(3,4,"order-add.pay-by-point"),": ",t.G7q(4,6,t.kEZ(14,p,n.order.amountFromPoint,n.currency,n.translateService.currentLang))," / ",n.order.pointAmount," ",t.lcZ(5,12,"point-add.point")," ")}}function U(e,r){if(1&e&&(t.TgZ(0,"div")(1,"i"),t._uU(2),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Oqu(n.limitText(n.order.note))}}function y(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij(" ",n.order.contact.fullName," ")}}function N(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.order.contactName)}}function Q(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.order.contactPhone)}}function J(e,r){if(1&e&&(t.TgZ(0,"p",20),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.limitText(n.note)," ")}}function q(e,r){if(1&e&&(t.TgZ(0,"p",21),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=r.$implicit,o=t.oxw(3);t.xp6(1),t.HOy(" ",o.productName(n.productCode,n.productName)," | ",n.count," ",n.unit," \xd7 ",t.G7q(2,4,t.kEZ(10,p,n.price,o.currency,o.translateService.currentLang))," ")}}function E(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"p",21)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.YNc(5,q,3,14,"p",22),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.Oqu(t.lcZ(4,2,"order-add.combo-products")),t.xp6(2),t.Q6J("ngForOf",n.items)}}function w(e,r){if(1&e&&(t.TgZ(0,"p",23)(1,"ion-text"),t._uU(2),t.qZA()()),2&e){const n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Udp("font-weight","normal"),t.xp6(1),t.hij(" ",o.getTypeAttributesString(n)," ")}}function v(e,r){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&e){const n=t.oxw().$implicit,o=t.oxw(4);t.xp6(1),t.AsE(" | ",n.count," \xd7 ",t.G7q(2,2,t.kEZ(8,p,n.price,o.currency,o.translateService.currentLang)),"")}}function Y(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1,"+"),t.qZA())}function P(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"p",23)(2,"ion-text",24),t._uU(3),t.YNc(4,v,3,12,"span",8),t._uU(5," | "),t.YNc(6,Y,2,0,"span",8),t._uU(7),t.ALo(8,"currency"),t.qZA()(),t.BQk()),2&e){const n=r.$implicit,o=t.oxw(4);t.xp6(2),t.Udp("font-weight","normal"),t.xp6(1),t.hij(" ",n.title,""),t.xp6(1),t.Q6J("ngIf",!n.selectOnly),t.xp6(2),t.Q6J("ngIf",n.isAddedToPrice),t.xp6(1),t.hij("",t.G7q(8,6,t.kEZ(12,p,n.total,o.currency,o.translateService.currentLang))," ")}}function M(e,r){if(1&e&&(t.ynx(0),t.YNc(1,P,9,16,"ng-container",9),t.BQk()),2&e){const n=r.$implicit;t.xp6(1),t.Q6J("ngForOf",n.values)}}function k(e,r){if(1&e&&(t.ynx(0),t.YNc(1,M,2,1,"ng-container",9),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.typeOptions)}}function S(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"p",23)(2,"ion-text",24),t._uU(3),t.ALo(4,"currency"),t.qZA()(),t.BQk()),2&e){const n=r.$implicit,o=t.oxw(3);t.xp6(2),t.Udp("font-weight","normal"),t.xp6(1),t.xDo(" ",n.code?n.code.toUpperCase()+"-":"","",n.title," | ",n.count," ",n.unit," | ",t.G7q(4,7,t.kEZ(13,p,n.total,o.currency,o.translateService.currentLang))," ")}}function D(e,r){1&e&&(t.ynx(0),t.TgZ(1,"p",23)(2,"ion-text",24),t._uU(3," ... "),t.qZA()(),t.BQk()),2&e&&(t.xp6(2),t.Udp("font-weight","normal"))}function B(e,r){if(1&e&&(t.ynx(0),t.YNc(1,S,5,17,"ng-container",9),t.ALo(2,"slice"),t.YNc(3,D,4,2,"ng-container",8),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,n.options,0,2)),t.xp6(2),t.Q6J("ngIf",n.options.length>=3)}}function F(e,r){if(1&e&&(t.TgZ(0,"p")(1,"ion-text"),t._uU(2),t.ALo(3,"currency"),t.YNc(4,J,2,1,"p",18),t.YNc(5,E,6,4,"ng-container",8),t.YNc(6,w,3,3,"p",19),t.YNc(7,k,2,1,"ng-container",8),t.YNc(8,B,4,6,"ng-container",8),t.qZA()()),2&e){const n=r.$implicit,o=r.index,a=t.oxw();t.xp6(2),t.gL8(" ",o+1,".",n.productCode?n.productCode.toUpperCase()+"-":"","",n.productName," | ",n.count," ",n.unit," | ",t.G7q(3,11,t.kEZ(17,p,n.total,a.currency,a.translateService.currentLang))," "),t.xp6(2),t.Q6J("ngIf",n.note),t.xp6(1),t.Q6J("ngIf",n.items&&n.items.length),t.xp6(1),t.Q6J("ngIf",n.typeAttributes&&n.typeAttributes.length),t.xp6(1),t.Q6J("ngIf",n.typeOptions&&n.typeOptions.length),t.xp6(1),t.Q6J("ngIf",n.options&&n.options.length)}}function b(e,r){1&e&&(t.TgZ(0,"p")(1,"ion-text",25),t._uU(2,"..."),t.qZA()())}function j(e,r){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.hij(" - ",n.order.store.name,"")}}function W(e,r){if(1&e&&(t.TgZ(0,"p")(1,"i",26),t._uU(2),t.ALo(3,"translate"),t.YNc(4,j,2,1,"span",8),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.AsE("",t.lcZ(3,3,"trade.staff")," ",n.order.staff.name,""),t.xp6(2),t.Q6J("ngIf",n.order.store)}}function $(e,r){if(1&e&&(t.TgZ(0,"p")(1,"i",26),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.AsE("",t.lcZ(3,2,"trade.staff")," ",n.order.store.name,"")}}function K(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"order-add.bill-of-lading-code"),": ",n.order.billOfLadingCode," ")}}function R(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"order-add.shipping-partner"),": ",n.order.shippingPartner," ")}}function z(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"order-add.shipper-name"),": ",n.order.shipperName," ")}}function G(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"order-add.shipper-phone"),": ",n.order.shipperPhone," ")}}function H(e,r){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"order-add.delivery-address"),": ",n.order.deliveryAddress," ")}}function X(e,r){if(1&e&&(t.TgZ(0,"ion-avatar",27),t._UZ(1,"img",28),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("src",n.contactImageOrPlaceholder(n.order.contact),t.LSH)}}let V=(()=>{class e{constructor(n){this.translateService=n,this.showContact=!0,this.selectMode=!1,this.isSelected=!1,this.isStaff=!1,this.color="default",this.onPress=new t.vpe,this.onClick=new t.vpe}dateFormat(n){let o=n;return n.indexOf(":00Z")<0&&(o=d(n).format(l.C.getDateTimeDbFormat())),l.C.toUiLocalDateTimeString(o)}contactImageOrPlaceholder(n){return s.W.contactImageOrPlaceholder(n.avatarUrl)}limitText(n,o=200){return s.W.limitText(n,o)}press(){this.onPress.emit()}click(){this.selectMode||this.onClick.emit()}getTypeAttributesString(n){return s.W.getTypeAttributesString(n)}productName(n,o){return s.W.productName(n,o)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["order-list-item"]],inputs:{currency:"currency",showContact:"showContact",selectMode:"selectMode",isSelected:"isSelected",order:"order",isStaff:"isStaff",color:"color"},outputs:{onPress:"onPress",onClick:"onClick"},decls:41,vars:42,consts:[[3,"color","press","click"],["color","primary","slot","start",3,"ngModel","ngModelChange",4,"ngIf"],[1,"ion-text-wrap"],["color","dark",4,"ngIf"],["color","secondary",4,"ngIf"],["color","primary",4,"ngIf"],["color","danger",4,"ngIf"],["color","secondary"],[4,"ngIf"],[4,"ngFor","ngForOf"],["slot","end",4,"ngIf"],["side","end"],[3,"click"],["slot","icon-only","name","ellipsis-vertical"],["color","primary","slot","start",3,"ngModel","ngModelChange"],["color","dark"],["color","primary"],["color","danger"],["style","font-size: 0.8em; margin: 3px 0 0 0;",4,"ngIf"],["style","padding: 0; margin: 0",4,"ngIf"],[2,"font-size","0.8em","margin","3px 0 0 0"],[2,"padding","0","margin","0","font-size","0.68em"],["style","padding: 0; margin: 0; font-size: 0.68em;",4,"ngFor","ngForOf"],[2,"padding","0","margin","0"],[2,"font-size","0.8em"],[2,"font-size","12px"],[2,"font-size","11px"],["slot","end"],[3,"src"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-item-sliding")(1,"ion-item",0),t.NdJ("press",function(){return o.press()})("click",function(){return o.click()}),t.YNc(2,u,1,1,"ion-checkbox",1),t.TgZ(3,"ion-label",2)(4,"span"),t._uU(5),t.qZA(),t._uU(6," - "),t.YNc(7,x,3,3,"ion-text",3),t.YNc(8,I,3,3,"ion-text",4),t.YNc(9,Z,3,3,"ion-text",4),t.YNc(10,T,3,3,"ion-text",5),t.YNc(11,A,3,3,"ion-text",6),t.YNc(12,L,3,3,"ion-text",6),t.YNc(13,O,3,3,"ion-text",6),t.YNc(14,h,3,3,"ion-text",4),t._uU(15," - "),t.TgZ(16,"span",7),t._uU(17),t.ALo(18,"currency"),t.qZA(),t._UZ(19,"br"),t.YNc(20,C,6,18,"p",8),t.YNc(21,U,3,1,"div",8),t.YNc(22,y,2,1,"p",8),t.YNc(23,N,2,1,"p",8),t.YNc(24,Q,2,1,"p",8),t.TgZ(25,"p"),t._uU(26),t.qZA(),t.YNc(27,F,9,21,"p",9),t.ALo(28,"slice"),t.YNc(29,b,3,0,"p",8),t.YNc(30,W,5,5,"p",8),t.YNc(31,$,4,4,"p",8),t.YNc(32,K,3,4,"p",8),t.YNc(33,R,3,4,"p",8),t.YNc(34,z,3,4,"p",8),t.YNc(35,G,3,4,"p",8),t.YNc(36,H,3,4,"p",8),t.qZA(),t.YNc(37,X,2,1,"ion-avatar",10),t.qZA(),t.TgZ(38,"ion-item-options",11)(39,"ion-item-option",12),t.NdJ("click",function(){return o.press()}),t._UZ(40,"ion-icon",13),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("color",o.color),t.xp6(1),t.Q6J("ngIf",o.selectMode),t.xp6(3),t.hij("#",o.order.orderCode,""),t.xp6(2),t.Q6J("ngIf",0===o.order.status),t.xp6(1),t.Q6J("ngIf",1===o.order.status),t.xp6(1),t.Q6J("ngIf",2===o.order.status),t.xp6(1),t.Q6J("ngIf",3===o.order.status),t.xp6(1),t.Q6J("ngIf",4===o.order.status),t.xp6(1),t.Q6J("ngIf",5===o.order.status),t.xp6(1),t.Q6J("ngIf",6===o.order.status),t.xp6(1),t.Q6J("ngIf",7===o.order.status),t.xp6(3),t.Oqu(t.G7q(18,28,t.kEZ(38,p,o.order.total,o.currency,o.translateService.currentLang))),t.xp6(3),t.Q6J("ngIf",o.order.amountFromPoint&&o.order.pointAmount),t.xp6(1),t.Q6J("ngIf",o.order.note),t.xp6(1),t.Q6J("ngIf",o.order.contactId&&0!==o.order.contactId&&o.order.contact&&o.showContact),t.xp6(1),t.Q6J("ngIf",0===o.order.contactId&&o.showContact&&o.order.contactName),t.xp6(1),t.Q6J("ngIf",0===o.order.contactId&&o.showContact&&o.order.contactPhone),t.xp6(2),t.hij(" ",o.dateFormat(o.order.createdAt)," "),t.xp6(1),t.Q6J("ngForOf",t.Dn7(28,34,o.order.items,0,2)),t.xp6(2),t.Q6J("ngIf",o.order.items.length>=3),t.xp6(1),t.Q6J("ngIf",o.order.staffId&&0!==o.order.staffId&&o.order.staff&&!o.isStaff),t.xp6(1),t.Q6J("ngIf",!(o.order.staffId&&0!==o.order.staffId&&o.order.staff&&!o.isStaff)&&o.order.store),t.xp6(1),t.Q6J("ngIf",o.order.hasShipInfo&&o.order.billOfLadingCode),t.xp6(1),t.Q6J("ngIf",o.order.hasShipInfo&&o.order.shippingPartner),t.xp6(1),t.Q6J("ngIf",o.order.hasShipInfo&&o.order.shipperName),t.xp6(1),t.Q6J("ngIf",o.order.hasShipInfo&&o.order.shipperPhone),t.xp6(1),t.Q6J("ngIf",o.order.hasShipInfo&&o.order.deliveryAddress),t.xp6(1),t.Q6J("ngIf",o.order.contactId&&0!==o.order.contactId&&o.order.contact&&o.showContact))},dependencies:[_.sg,_.O5,f.JJ,f.On,c.BJ,c.nz,c.gu,c.Ie,c.u8,c.IK,c.td,c.Q$,c.yW,c.w,_.OU,_.H9,m.X$],encapsulation:2}),e})()}}]);