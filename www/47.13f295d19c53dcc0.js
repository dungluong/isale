"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[47],{47:(Qn,Z,c)=>{c.r(Z),c.d(Z,{ConfigModule:()=>In});var h=c(6895),C=c(4006),r=c(191),d=c(3306),A=c(529),b=c(3196),s=c(5861),M=c(4872),v=c(6723),T=c(9854),n=c(6738),w=c(5851),U=c(7488),y=c(3142),q=c(5129),J=c(3876),N=c(667),S=c(2703),L=c(323);const I=["fileUploadInput"],k=["fileUploadInput1"],Q=["fileUploadInput2"],H=["fileUploadInput3"];function O(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",16),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.saveShop())}),n._UZ(1,"ion-icon",17),n._uU(2),n.ALo(3,"translate"),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("disabled",e.saveDisabled),n.xp6(2),n.hij(" \xa0",n.lcZ(3,2,"action.save")," ")}}function Y(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",16),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.saveShopConfig())}),n._UZ(1,"ion-icon",17),n._uU(2),n.ALo(3,"translate"),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("disabled",e.saveDisabled),n.xp6(2),n.hij(" \xa0",n.lcZ(3,2,"action.save")," ")}}function G(t,a){if(1&t&&(n.TgZ(0,"ion-buttons",14),n.YNc(1,O,4,4,"ion-button",15),n.YNc(2,Y,4,4,"ion-button",15),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf","shop"===e.segment||"web"===e.segment),n.xp6(1),n.Q6J("ngIf","language"===e.segment&&e.hasDifferences)}}function K(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",21)(1,"p")(2,"ion-text",22),n._uU(3),n.qZA()(),n.TgZ(4,"ion-button",23),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.openMyWeb())}),n._uU(5),n.ALo(6,"translate"),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(3),n.Oqu(e.shop.webName),n.xp6(2),n.Oqu(n.lcZ(6,2,"shop-add.open-my-web"))}}function E(t,a){if(1&t&&(n.TgZ(0,"div",18),n._UZ(1,"span",19),n.ALo(2,"translate"),n.YNc(3,K,7,4,"div",20),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,2,"shop-add.shop-online-notice"),n.oJD),n.xp6(2),n.Q6J("ngIf",e.shop&&e.shop.webName)}}function F(t,a){1&t&&n._UZ(0,"br")}function B(t,a){if(1&t&&n._UZ(0,"img",40),2&t){const e=n.oxw(2);n.Q6J("src",e.contactImageOrPlaceholder(),n.LSH)}}function j(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",41),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.upload(o.uploadCallBack))}),n._UZ(1,"ion-icon",42),n._uU(2),n.ALo(3,"translate"),n.qZA()}2&t&&(n.xp6(2),n.hij("\xa0",n.lcZ(3,1,"note-add.select-photo")," "))}function D(t,a){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"note-add.select-photo")))}function P(t,a){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.Oqu(e.fileToUpload.name)}}function z(t,a){if(1&t&&(n.TgZ(0,"label",43),n._uU(1," ["),n.YNc(2,D,3,3,"span",10),n.YNc(3,P,2,1,"span",10),n._uU(4,"] "),n.qZA()),2&t){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!e.fileToUpload),n.xp6(1),n.Q6J("ngIf",e.fileToUpload)}}function R(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"input",44,45),n.NdJ("change",function(o){n.CHM(e);const l=n.oxw(2);return n.KtG(l.rememberFile(o,l.uploadCallBack))}),n.qZA()}}function W(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",46),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.removeShopPhoto())}),n._UZ(1,"ion-icon",47),n.qZA()}}function V(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-list")(1,"ion-item")(2,"ion-label",24),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"ion-input",25),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.name=o)}),n.qZA()(),n.TgZ(6,"ion-item")(7,"ion-label",24),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"ion-textarea",26),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.shortDescription=o)}),n.qZA()(),n.TgZ(11,"ion-item")(12,"ion-label",24),n._uU(13),n.ALo(14,"translate"),n.qZA(),n.TgZ(15,"ion-input",27),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.phone=o)}),n.qZA()(),n.TgZ(16,"ion-item")(17,"ion-label",28),n._uU(18),n.ALo(19,"translate"),n.qZA(),n.YNc(20,F,1,0,"br",10),n.YNc(21,B,1,1,"img",29),n.YNc(22,j,4,3,"ion-button",30),n.YNc(23,z,5,2,"label",31),n.YNc(24,R,2,0,"input",32),n.YNc(25,W,2,0,"ion-button",33),n.qZA(),n.TgZ(26,"ion-item")(27,"ion-label",24),n._uU(28),n.ALo(29,"translate"),n.qZA(),n.TgZ(30,"ion-input",34),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.email=o)}),n.qZA()(),n.TgZ(31,"ion-item")(32,"ion-label",24),n._uU(33),n.ALo(34,"translate"),n.qZA(),n.TgZ(35,"ion-input",35),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.address=o)}),n.qZA()(),n.TgZ(36,"ion-item")(37,"ion-label",24),n._uU(38),n.ALo(39,"translate"),n.qZA(),n.TgZ(40,"ion-input",36),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.facebook=o)}),n.qZA()(),n.TgZ(41,"ion-item")(42,"ion-label",24),n._uU(43),n.ALo(44,"translate"),n.qZA(),n.TgZ(45,"ion-input",37),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.bankName=o)}),n.qZA()(),n.TgZ(46,"ion-item")(47,"ion-label",24),n._uU(48),n.ALo(49,"translate"),n.qZA(),n.TgZ(50,"ion-input",38),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.bankAccountName=o)}),n.qZA()(),n.TgZ(51,"ion-item")(52,"ion-label",24),n._uU(53),n.ALo(54,"translate"),n.qZA(),n.TgZ(55,"ion-input",39),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.bankAccountNumber=o)}),n.qZA()(),n.TgZ(56,"ion-item")(57,"ion-label",24),n._uU(58),n.ALo(59,"translate"),n.qZA(),n.TgZ(60,"ion-input",39),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.shop.bankAccountNumber=o)}),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,27,"shop-add.name")),n.xp6(2),n.Q6J("ngModel",e.shop.name),n.xp6(3),n.Oqu(n.lcZ(9,29,"shop-add.short-description")),n.xp6(2),n.Q6J("ngModel",e.shop.shortDescription),n.xp6(3),n.Oqu(n.lcZ(14,31,"shop-add.phone")),n.xp6(2),n.Q6J("ngModel",e.shop.phone),n.xp6(3),n.Oqu(n.lcZ(19,33,"shop-add.photo")),n.xp6(2),n.Q6J("ngIf",e.shop.iconUrl),n.xp6(1),n.Q6J("ngIf",e.shop.iconUrl),n.xp6(1),n.Q6J("ngIf",!e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.shop.iconUrl),n.xp6(3),n.Oqu(n.lcZ(29,35,"shop-add.email")),n.xp6(2),n.Q6J("ngModel",e.shop.email),n.xp6(3),n.Oqu(n.lcZ(34,37,"shop-add.address")),n.xp6(2),n.Q6J("ngModel",e.shop.address),n.xp6(3),n.Oqu(n.lcZ(39,39,"shop-add.facebook")),n.xp6(2),n.Q6J("ngModel",e.shop.facebook),n.xp6(3),n.Oqu(n.lcZ(44,41,"shop-add.bank-name")),n.xp6(2),n.Q6J("ngModel",e.shop.bankName),n.xp6(3),n.Oqu(n.lcZ(49,43,"shop-add.bank-account-name")),n.xp6(2),n.Q6J("ngModel",e.shop.bankAccountName),n.xp6(3),n.Oqu(n.lcZ(54,45,"shop-add.bank-account-number")),n.xp6(2),n.Q6J("ngModel",e.shop.bankAccountNumber),n.xp6(3),n.Oqu(n.lcZ(59,47,"shop-add.bank-account-number")),n.xp6(2),n.Q6J("ngModel",e.shop.bankAccountNumber)}}function X(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",48),n._UZ(1,"span",19),n.ALo(2,"translate"),n.TgZ(3,"div",21)(4,"ion-button",49),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.deleteAccount())}),n._uU(5),n.ALo(6,"translate"),n.qZA()()()}2&t&&(n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,2,"shop-add.delete-shop-notice"),n.oJD),n.xp6(4),n.Oqu(n.lcZ(6,4,"shop-add.delete-shop")))}function $(t,a){if(1&t&&(n.TgZ(0,"ion-select-option",61),n._uU(1),n.qZA()),2&t){const e=a.$implicit;n.Q6J("value",e.code),n.xp6(1),n.lnq("",e.code," - ",e.symbol_native," - ",e.name,"")}}function nn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-item")(1,"ion-label",50),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"ion-input",62),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw(2);return n.KtG(l.userConfig["order-invoice-max-empty-rows"][0]=o)}),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(2),n.hij(" ",n.lcZ(3,2,"config.order-invoice-max-empty-rows")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["order-invoice-max-empty-rows"][0])}}function en(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-list")(1,"ion-item")(2,"ion-label",50),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"ion-select",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.language=o)}),n.TgZ(6,"ion-select-option",52),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.TgZ(9,"ion-select-option",53),n._uU(10),n.ALo(11,"translate"),n.qZA()()(),n.TgZ(12,"ion-item")(13,"ion-label",50),n._uU(14),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"ion-select",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["current-currency"][0]=o)}),n.YNc(17,$,2,4,"ion-select-option",54),n.qZA()(),n.TgZ(18,"ion-item")(19,"ion-label",50),n._uU(20),n.ALo(21,"translate"),n.qZA(),n.TgZ(22,"ion-select",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["date-format"][0]=o)}),n.TgZ(23,"ion-select-option",55),n._uU(24,"DD/MM/YYYY (31/12/2018)"),n.qZA(),n.TgZ(25,"ion-select-option",56),n._uU(26,"MM/DD/YYYY (12/31/2018)"),n.qZA()()(),n.TgZ(27,"ion-item")(28,"ion-label",50),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.TgZ(31,"ion-select",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["time-format"][0]=o)}),n.TgZ(32,"ion-select-option",57),n._uU(33,"HH:mm (00-24:00-59)"),n.qZA(),n.TgZ(34,"ion-select-option",58),n._uU(35,"hh:mm A (00-12:00-59 AM-PM)"),n.qZA()()(),n.TgZ(36,"ion-item")(37,"ion-label",50),n._uU(38),n.ALo(39,"translate"),n.qZA(),n.TgZ(40,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["out-stock"][0]=o)}),n.qZA()(),n.TgZ(41,"ion-item")(42,"ion-label",50),n._uU(43),n.ALo(44,"translate"),n.qZA(),n.TgZ(45,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["hide-materials"][0]=o)}),n.qZA()(),n.TgZ(46,"ion-item")(47,"ion-label",50),n._uU(48),n.ALo(49,"translate"),n.qZA(),n.TgZ(50,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["hide-tables-function"][0]=o)}),n.qZA()(),n.TgZ(51,"ion-item")(52,"ion-label",50),n._uU(53),n.ALo(54,"translate"),n.qZA(),n.TgZ(55,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["hide-calendar-function"][0]=o)}),n.qZA()(),n.TgZ(56,"ion-item")(57,"ion-label",50),n._uU(58),n.ALo(59,"translate"),n.qZA(),n.TgZ(60,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["hide-promotion-function"][0]=o)}),n.qZA()(),n.TgZ(61,"ion-item")(62,"ion-label",50)(63,"b"),n._uU(64),n.ALo(65,"translate"),n.qZA(),n.TgZ(66,"p"),n._uU(67),n.ALo(68,"translate"),n.qZA()(),n.TgZ(69,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["hide-tax"][0]=o)}),n.qZA()(),n.TgZ(70,"ion-item")(71,"ion-label",50)(72,"b"),n._uU(73),n.ALo(74,"translate"),n.qZA(),n.TgZ(75,"p"),n._uU(76),n.ALo(77,"translate"),n.qZA()(),n.TgZ(78,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["print-order-like-invoice"][0]=o)}),n.qZA()(),n.YNc(79,nn,5,4,"ion-item",10),n.TgZ(80,"ion-item")(81,"ion-label",50),n._uU(82),n.ALo(83,"translate"),n.qZA(),n.TgZ(84,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["hide-discount-column"][0]=o)}),n.qZA()(),n.TgZ(85,"ion-item")(86,"ion-label",50),n._uU(87),n.ALo(88,"translate"),n.qZA(),n.TgZ(89,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["show-staff-phone"][0]=o)}),n.qZA()(),n.TgZ(90,"ion-item")(91,"ion-label",50),n._uU(92),n.ALo(93,"translate"),n.qZA(),n.TgZ(94,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["show-staff-name-under-sign"][0]=o)}),n.qZA()(),n.TgZ(95,"ion-item")(96,"ion-label",59),n._uU(97),n.ALo(98,"translate"),n.qZA(),n.TgZ(99,"ion-textarea",60),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["order-print-note"][0]=o)}),n.qZA(),n.TgZ(100,"p"),n._uU(101),n.ALo(102,"translate"),n.qZA()(),n.TgZ(103,"ion-item")(104,"ion-label",50),n._uU(105),n.ALo(106,"translate"),n.qZA(),n.TgZ(107,"ion-toggle",51),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.userConfig["hide-product-code-print"][0]=o)}),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,39,"language.language")),n.xp6(2),n.Q6J("ngModel",e.language),n.xp6(2),n.Oqu(n.lcZ(8,41,"language.english")),n.xp6(3),n.Oqu(n.lcZ(11,43,"language.vietnamese")),n.xp6(4),n.Oqu(n.lcZ(15,45,"config.money")),n.xp6(2),n.Q6J("ngModel",e.userConfig["current-currency"][0]),n.xp6(1),n.Q6J("ngForOf",e.currenciesList),n.xp6(3),n.Oqu(n.lcZ(21,47,"config.dateformat")),n.xp6(2),n.Q6J("ngModel",e.userConfig["date-format"][0]),n.xp6(7),n.Oqu(n.lcZ(30,49,"config.timeformat")),n.xp6(2),n.Q6J("ngModel",e.userConfig["time-format"][0]),n.xp6(7),n.Oqu(n.lcZ(39,51,"config.out-stock-cannot-sell")),n.xp6(2),n.Q6J("ngModel",e.userConfig["out-stock"][0]),n.xp6(3),n.hij(" ",n.lcZ(44,53,"config.hide-materials")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["hide-materials"][0]),n.xp6(3),n.hij(" ",n.lcZ(49,55,"config.hide-tables-function")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["hide-tables-function"][0]),n.xp6(3),n.hij(" ",n.lcZ(54,57,"config.hide-calendar-function")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["hide-calendar-function"][0]),n.xp6(3),n.hij(" ",n.lcZ(59,59,"config.hide-promotion-function")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["hide-promotion-function"][0]),n.xp6(4),n.Oqu(n.lcZ(65,61,"config.hide-tax")),n.xp6(3),n.Oqu(n.lcZ(68,63,"config.hide-tax-description")),n.xp6(2),n.Q6J("ngModel",e.userConfig["hide-tax"][0]),n.xp6(4),n.Oqu(n.lcZ(74,65,"config.print-order-like-invoice")),n.xp6(3),n.Oqu(n.lcZ(77,67,"config.print-order-like-invoice-description")),n.xp6(2),n.Q6J("ngModel",e.userConfig["print-order-like-invoice"][0]),n.xp6(1),n.Q6J("ngIf",e.userConfig["print-order-like-invoice"][0]),n.xp6(3),n.hij(" ",n.lcZ(83,69,"config.hide-discount-column")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["hide-discount-column"][0]),n.xp6(3),n.hij(" ",n.lcZ(88,71,"config.show-staff-phone")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["show-staff-phone"][0]),n.xp6(3),n.hij(" ",n.lcZ(93,73,"config.show-staff-name-under-sign")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["show-staff-name-under-sign"][0]),n.xp6(3),n.hij(" ",n.lcZ(98,75,"config.order-print-note")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["order-print-note"][0]),n.xp6(2),n.Oqu(n.lcZ(102,77,"config.order-print-note-description")),n.xp6(4),n.hij(" ",n.lcZ(106,79,"config.hide-product-code-print")," "),n.xp6(2),n.Q6J("ngModel",e.userConfig["hide-product-code-print"][0])}}function on(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",63)(1,"ion-button",64),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.saveShopConfig())}),n._UZ(2,"ion-icon",17),n._uU(3),n.ALo(4,"translate"),n.qZA()()}if(2&t){const e=n.oxw();n.xp6(1),n.Q6J("disabled",e.saveDisabled),n.xp6(2),n.hij(" \xa0",n.lcZ(4,2,"action.save")," ")}}function tn(t,a){1&t&&n._UZ(0,"br")}function ln(t,a){if(1&t&&n._UZ(0,"img",89),2&t){const e=n.oxw(2);n.Q6J("src",e.web.bannerUrl1,n.LSH)}}function an(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",41),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.upload(o.uploadBanner1CallBack))}),n._UZ(1,"ion-icon",42),n._uU(2),n.ALo(3,"translate"),n.qZA()}2&t&&(n.xp6(2),n.hij("\xa0",n.lcZ(3,1,"note-add.select-photo")," "))}function rn(t,a){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"note-add.select-photo")))}function sn(t,a){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.Oqu(e.fileToUpload1.name)}}function cn(t,a){if(1&t&&(n.TgZ(0,"label",90),n._uU(1," ["),n.YNc(2,rn,3,3,"span",10),n.YNc(3,sn,2,1,"span",10),n._uU(4,"] "),n.qZA()),2&t){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!e.fileToUpload1),n.xp6(1),n.Q6J("ngIf",e.fileToUpload1)}}function gn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"input",91,92),n.NdJ("change",function(o){n.CHM(e);const l=n.oxw(2);return n.KtG(l.rememberFile(o,l.uploadBanner1CallBack))}),n.qZA()}}function _n(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",93),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.removeBanner1())}),n._UZ(1,"ion-icon",47),n.qZA()}}function pn(t,a){1&t&&n._UZ(0,"br")}function un(t,a){if(1&t&&n._UZ(0,"img",89),2&t){const e=n.oxw(2);n.Q6J("src",e.web.bannerUrl2,n.LSH)}}function dn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",41),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.upload(o.uploadBanner2CallBack))}),n._UZ(1,"ion-icon",42),n._uU(2),n.ALo(3,"translate"),n.qZA()}2&t&&(n.xp6(2),n.hij("\xa0",n.lcZ(3,1,"note-add.select-photo")," "))}function fn(t,a){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"note-add.select-photo")))}function mn(t,a){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.Oqu(e.fileToUpload2.name)}}function hn(t,a){if(1&t&&(n.TgZ(0,"label",94),n._uU(1," ["),n.YNc(2,fn,3,3,"span",10),n.YNc(3,mn,2,1,"span",10),n._uU(4,"] "),n.qZA()),2&t){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!e.fileToUpload2),n.xp6(1),n.Q6J("ngIf",e.fileToUpload2)}}function Cn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"input",95,96),n.NdJ("change",function(o){n.CHM(e);const l=n.oxw(2);return n.KtG(l.rememberFile(o,l.uploadBanner2CallBack))}),n.qZA()}}function xn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",93),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.removeBanner2())}),n._UZ(1,"ion-icon",47),n.qZA()}}function Zn(t,a){1&t&&n._UZ(0,"br")}function bn(t,a){if(1&t&&n._UZ(0,"img",89),2&t){const e=n.oxw(2);n.Q6J("src",e.web.bannerUrl3,n.LSH)}}function vn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",41),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.upload(o.uploadBanner3CallBack))}),n._UZ(1,"ion-icon",42),n._uU(2),n.ALo(3,"translate"),n.qZA()}2&t&&(n.xp6(2),n.hij("\xa0",n.lcZ(3,1,"note-add.select-photo")," "))}function Tn(t,a){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"note-add.select-photo")))}function An(t,a){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw(3);n.xp6(1),n.Oqu(e.fileToUpload3.name)}}function Mn(t,a){if(1&t&&(n.TgZ(0,"label",97),n._uU(1," ["),n.YNc(2,Tn,3,3,"span",10),n.YNc(3,An,2,1,"span",10),n._uU(4,"] "),n.qZA()),2&t){const e=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!e.fileToUpload3),n.xp6(1),n.Q6J("ngIf",e.fileToUpload3)}}function wn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"input",98,99),n.NdJ("change",function(o){n.CHM(e);const l=n.oxw(2);return n.KtG(l.rememberFile(o,l.uploadBanner3CallBack))}),n.qZA()}}function Un(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-button",93),n.NdJ("click",function(){n.CHM(e);const o=n.oxw(2);return n.KtG(o.removeBanner3())}),n._UZ(1,"ion-icon",47),n.qZA()}}function yn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",65)(3,"ion-item",66)(4,"ion-label",24),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.TgZ(7,"ion-toggle",67),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.web.isEnableWeb=o)}),n.qZA()()(),n.TgZ(8,"ion-col",68)(9,"ion-button",69),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.openExampleWeb())}),n._uU(10),n.ALo(11,"translate"),n.qZA()(),n.TgZ(12,"ion-col",70)(13,"ion-item",66)(14,"ion-label",24),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"ion-textarea",71),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.web.introduce=o)}),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"div",72),n._UZ(20,"ion-icon",73),n._uU(21,"\xa0"),n.TgZ(22,"ion-text",74),n._uU(23),n.ALo(24,"translate"),n.qZA()()()(),n.TgZ(25,"ion-col",70)(26,"ion-item",66)(27,"ion-label",24),n._uU(28),n.ALo(29,"translate"),n.qZA(),n.TgZ(30,"ion-textarea",71),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.web.openLetter=o)}),n.ALo(31,"translate"),n.qZA(),n.TgZ(32,"div",72),n._UZ(33,"ion-icon",73),n._uU(34,"\xa0"),n.TgZ(35,"ion-text",74),n._uU(36),n.ALo(37,"translate"),n.qZA()()()(),n.TgZ(38,"ion-col",70)(39,"ion-item",66)(40,"ion-label",24),n._uU(41),n.ALo(42,"translate"),n.qZA(),n.TgZ(43,"ion-textarea",71),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.web.mapIframeSmall=o)}),n.ALo(44,"translate"),n.qZA(),n.TgZ(45,"div",75),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.navCtrl.openExternalUrl("https://support.google.com/maps/answer/144361"))}),n.TgZ(46,"ion-text",74),n._uU(47),n.ALo(48,"translate"),n.qZA()()()(),n.TgZ(49,"ion-col",70)(50,"ion-item",66)(51,"ion-label",24),n._uU(52),n.ALo(53,"translate"),n.qZA(),n.TgZ(54,"ion-textarea",76),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.web.mapIframeBig=o)}),n.ALo(55,"translate"),n.qZA()()(),n.TgZ(56,"ion-col",70)(57,"ion-item",66)(58,"ion-label",28),n._uU(59),n.ALo(60,"translate"),n.qZA(),n.YNc(61,tn,1,0,"br",10),n.YNc(62,ln,1,1,"img",77),n.TgZ(63,"ion-grid",78)(64,"ion-row")(65,"ion-col",79),n.YNc(66,an,4,3,"ion-button",30),n.YNc(67,cn,5,2,"label",80),n.YNc(68,gn,2,0,"input",81),n.qZA(),n.TgZ(69,"ion-col",82),n.YNc(70,_n,2,0,"ion-button",83),n.qZA()()()(),n.TgZ(71,"ion-item",66)(72,"ion-label",24),n._uU(73),n.ALo(74,"translate"),n.qZA(),n.TgZ(75,"ion-input",84),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.web.bannerText1=o)}),n.ALo(76,"translate"),n.qZA()()(),n.TgZ(77,"ion-col",70)(78,"ion-item",66)(79,"ion-label",28),n._uU(80),n.ALo(81,"translate"),n.qZA(),n.YNc(82,pn,1,0,"br",10),n.YNc(83,un,1,1,"img",77),n.TgZ(84,"ion-grid",78)(85,"ion-row")(86,"ion-col",79),n.YNc(87,dn,4,3,"ion-button",30),n.YNc(88,hn,5,2,"label",85),n.YNc(89,Cn,2,0,"input",86),n.qZA(),n.TgZ(90,"ion-col",82),n.YNc(91,xn,2,0,"ion-button",83),n.qZA()()()(),n.TgZ(92,"ion-item",66)(93,"ion-label",24),n._uU(94),n.ALo(95,"translate"),n.qZA(),n.TgZ(96,"ion-input",84),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.web.bannerText2=o)}),n.ALo(97,"translate"),n.qZA()()(),n.TgZ(98,"ion-col",70)(99,"ion-item",66)(100,"ion-label",28),n._uU(101),n.ALo(102,"translate"),n.qZA(),n.YNc(103,Zn,1,0,"br",10),n.YNc(104,bn,1,1,"img",77),n.TgZ(105,"ion-grid",78)(106,"ion-row")(107,"ion-col",79),n.YNc(108,vn,4,3,"ion-button",30),n.YNc(109,Mn,5,2,"label",87),n.YNc(110,wn,2,0,"input",88),n.qZA(),n.TgZ(111,"ion-col",82),n.YNc(112,Un,2,0,"ion-button",83),n.qZA()()()(),n.TgZ(113,"ion-item",66)(114,"ion-label",24),n._uU(115),n.ALo(116,"translate"),n.qZA(),n.TgZ(117,"ion-input",84),n.NdJ("ngModelChange",function(o){n.CHM(e);const l=n.oxw();return n.KtG(l.web.bannerText3=o)}),n.ALo(118,"translate"),n.qZA()()()()()}if(2&t){const e=n.oxw();n.xp6(5),n.Oqu(n.lcZ(6,48,"config.is-enable-web")),n.xp6(2),n.Q6J("ngModel",e.web.isEnableWeb),n.xp6(3),n.hij("",n.lcZ(11,50,"shop-add.see-example-web")," "),n.xp6(5),n.Oqu(n.lcZ(16,52,"config.introduce")),n.xp6(2),n.s9C("placeholder",n.lcZ(18,54,"config.enter-introduce")),n.Q6J("ngModel",e.web.introduce),n.xp6(6),n.Oqu(n.lcZ(24,56,"config.enter-introduce-help")),n.xp6(5),n.Oqu(n.lcZ(29,58,"config.open-letter")),n.xp6(2),n.s9C("placeholder",n.lcZ(31,60,"config.enter-open-letter")),n.Q6J("ngModel",e.web.openLetter),n.xp6(6),n.Oqu(n.lcZ(37,62,"config.enter-open-letter-help")),n.xp6(5),n.Oqu(n.lcZ(42,64,"config.map-iframe-small")),n.xp6(2),n.s9C("placeholder",n.lcZ(44,66,"config.enter-map-iframe-small")),n.Q6J("ngModel",e.web.mapIframeSmall),n.xp6(4),n.Oqu(n.lcZ(48,68,"config.enter-map-iframe-small-help")),n.xp6(5),n.Oqu(n.lcZ(53,70,"config.map-iframe-big")),n.xp6(2),n.s9C("placeholder",n.lcZ(55,72,"config.enter-map-iframe-big")),n.Q6J("ngModel",e.web.mapIframeBig),n.xp6(5),n.Oqu(n.lcZ(60,74,"config.banner-url1")),n.xp6(2),n.Q6J("ngIf",e.web.bannerUrl1),n.xp6(1),n.Q6J("ngIf",e.web.bannerUrl1),n.xp6(4),n.Q6J("ngIf",!e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.isNotCordova()),n.xp6(2),n.Q6J("ngIf",e.web.bannerUrl1),n.xp6(3),n.Oqu(n.lcZ(74,76,"config.banner-text1")),n.xp6(2),n.s9C("placeholder",n.lcZ(76,78,"config.enter-banner-text1")),n.Q6J("ngModel",e.web.bannerText1),n.xp6(5),n.Oqu(n.lcZ(81,80,"config.banner-url2")),n.xp6(2),n.Q6J("ngIf",e.web.bannerUrl2),n.xp6(1),n.Q6J("ngIf",e.web.bannerUrl2),n.xp6(4),n.Q6J("ngIf",!e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.isNotCordova()),n.xp6(2),n.Q6J("ngIf",e.web.bannerUrl2),n.xp6(3),n.Oqu(n.lcZ(95,82,"config.banner-text2")),n.xp6(2),n.s9C("placeholder",n.lcZ(97,84,"config.enter-banner-text2")),n.Q6J("ngModel",e.web.bannerText2),n.xp6(5),n.Oqu(n.lcZ(102,86,"config.banner-url3")),n.xp6(2),n.Q6J("ngIf",e.web.bannerUrl3),n.xp6(1),n.Q6J("ngIf",e.web.bannerUrl1),n.xp6(4),n.Q6J("ngIf",!e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.isNotCordova()),n.xp6(1),n.Q6J("ngIf",e.isNotCordova()),n.xp6(2),n.Q6J("ngIf",e.web.bannerUrl3),n.xp6(3),n.Oqu(n.lcZ(116,88,"config.banner-text3")),n.xp6(2),n.s9C("placeholder",n.lcZ(118,90,"config.enter-banner-text3")),n.Q6J("ngModel",e.web.bannerText3)}}function qn(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"ion-list",100)(1,"ion-item",101),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.goHelpPage("web"))}),n._UZ(2,"ion-icon",102),n.TgZ(3,"ion-label",103),n._uU(4),n.ALo(5,"translate"),n.qZA()()()}2&t&&(n.xp6(4),n.hij(" ",n.lcZ(5,1,"help-web.title")," "))}const Jn=[{path:"",component:(()=>{class t{constructor(e,i,o,l,_,f,x,m,u,g,kn){this.navCtrl=e,this.translateService=i,this.userService=o,this.dataService=l,this.camera=_,this.storeService=f,this.actionSheetController=x,this.alertCtrl=m,this.staffService=u,this.fcmTokenService=g,this.analyticsService=kn,this.userConfig={"hide-tables-function":[!1,!1],"hide-calendar-function":[!1,!1],"hide-tax":[!1,!1],"out-stock":[!1,!1,"outStockNotSell"],"hide-materials":[!1,!1],"current-currency":["VND","VND","currency"],"date-format":["DD/MM/YYYY","DD/MM/YYYY"],"order-invoice-max-empty-rows":[10,10],"hide-discount-column":[!0,!0],"show-staff-name-under-sign":[!1,!1],"hide-product-code-print":[!0,!0],"print-order-like-invoice":[!1,!1],"order-print-note":["",""],"time-format":["HH:mm","HH:mm"],"show-staff-phone":[!1,!1],"hide-promotion-function":[!1,!1]},this.shop={id:0,name:""},this.shopConfig={},this.saveDisabled=!1,this.username="",this.oldPassword="",this.isRemember=!1,this.newPassword="",this.newConfirm="",this.isEnableLogin=!1,this.segment="shop",this.currenciesList=[],this.web={isEnableWeb:!0},this.noSave=!0,this.uploadCallBack=p=>{this.shop.iconUrl=p,this.fileToUpload=null,this.fileUploadInput.nativeElement.value=null},this.uploadBanner1CallBack=p=>{this.web.bannerUrl1=p,this.fileToUpload1=null,this.fileUploadInput1.nativeElement.value=null},this.uploadBanner2CallBack=p=>{this.web.bannerUrl2=p,this.fileToUpload2=null,this.fileUploadInput2.nativeElement.value=null},this.uploadBanner3CallBack=p=>{this.web.bannerUrl3=p,this.fileToUpload3=null,this.fileUploadInput3.nativeElement.value=null}}ionViewWillEnter(){var e=this;return(0,s.Z)(function*(){yield e.analyticsService.setCurrentScreen("config")})()}changeSegment(){"language"!==this.segment?this.noSave=!0:setTimeout(()=>{this.noSave=!1},2e3)}ngOnInit(){var e=this;return(0,s.Z)(function*(){e.currenciesList=v.W.currenciesList(),e.dataService.getFirstObject("shop_config").then(function(){var i=(0,s.Z)(function*(o){if(!o)return e.language=yield e.userService.getAttr("current-language"),yield e.getAttsFromService(),e.oldLanguage=e.language,void e.setOldConfigToNew();e.shopConfig=o,e.language=e.shopConfig.language?e.shopConfig.language:"vn",e.oldLanguage=e.language;for(const l of Object.keys(e.userConfig))e.userConfig[l][0]=e.shopConfig[e.getProp(l)]??e.userConfig[l][1];e.oldLanguage=e.language,e.setOldConfigToNew()});return function(o){return i.apply(this,arguments)}}()),e.segment="shop",yield e.reload()})()}getProp(e){return 3===this.userConfig[e].length?this.userConfig[e][2]:(0,T.FB)(e)}reload(){var e=this;return(0,s.Z)(function*(){e.userService.isEnableLogin().then(_=>{e.isEnableLogin=_,_&&(e.username=e.userService.loggedUser.username)});const i=yield e.dataService.getFirstObject("shop");i&&(e.shop=i);const o=yield e.storeService.countStores();e.countShop=o?e.translateService.instant("store.count-shop",{count:o}):null;const l=yield e.dataService.getFirstObject("web");e.web=l||e.web,e.shop&&e.shop.name&&(e.shop.webName=e.getMyWebUrl(e.shop))})()}saveWeb(){var e=this;return(0,s.Z)(function*(){e.saveDisabled=!0;const i=yield e.navCtrl.loading();e.dataService.save("web",e.web).then((0,s.Z)(function*(){e.analyticsService.logEvent("shop-save-web-successfully"),e.saveDisabled=!1,alert(e.translateService.instant("shop-add.save-web-done")),yield i.dismiss()})).catch((0,s.Z)(function*(){e.saveDisabled=!1,yield i.dismiss()}))})()}saveShop(){var e=this;return(0,s.Z)(function*(){if("web"===e.segment)return void(yield e.saveWeb());if(!e.shop||!e.shop.name)return void alert(e.translateService.instant("shop-add.no-name-alert"));e.saveDisabled=!0;const i=yield e.navCtrl.loading();e.dataService.save("shop",e.shop).then((0,s.Z)(function*(){e.analyticsService.logEvent("shop-save-successfully"),e.saveDisabled=!1,e.navCtrl.publish("reloadHome"),alert(e.translateService.instant("shop-add.save-done")),yield i.dismiss(),e.navCtrl.pop()})).catch((0,s.Z)(function*(){e.saveDisabled=!1,yield i.dismiss()}))})()}get hasDifferences(){return!(this.oldLanguage==this.language&&!this.userConfigHasDiff())}checkSaveAndHome(){this.hasDifferences&&!confirm(this.translateService.instant("shop-add.config-not-save-alert"))||this.navCtrl.home()}saveShopConfig(){var e=this;return(0,s.Z)(function*(){if(e.noSave)return;e.oldLanguage!==e.language&&(e.changeLanguage(),e.oldLanguage=e.language),e.checkChange();const i={language:e.language};for(const l of Object.keys(e.userConfig))i[e.getProp(l)]=e.userConfig[l][0];e.shopConfig&&(i.id=e.shopConfig.id),e.shopConfig=i;const o=yield e.navCtrl.loading();e.navCtrl.dispatchEvent("reset-timeformat",e.shopConfig.timeFormat),e.navCtrl.dispatchEvent("reset-dateformat",e.shopConfig.dateFormat),e.dataService.save("shop_config",e.shopConfig).then((0,s.Z)(function*(){e.analyticsService.logEvent("shop-config-save-successfully"),yield o.dismiss(),alert(e.translateService.instant("shop-add.save-done"))}))})()}changeInfo(){var e=this;return(0,s.Z)(function*(){e.username&&""!==e.username?e.oldPassword&&""!==e.oldPassword?e.newPassword&&""!==e.newPassword?e.newConfirm&&""!==e.newConfirm?e.newConfirm===e.newPassword?e.userService.getUserByNameAndPassword(e.userService.loggedUser.username,e.oldPassword,e.isRemember).then(function(){var i=(0,s.Z)(function*(o){if(o&&null!=o){const l=new M.n;l.id=e.userService.loggedUser.id,l.username=e.username,l.password=e.newPassword,e.userService.saveUser(l,e.oldPassword).then((0,s.Z)(function*(){yield(yield e.alertCtrl.create({header:e.translateService.instant("common.alert"),subHeader:e.translateService.instant("config.alert-change-sucess"),buttons:["OK"]})).present(),e.newPassword="",e.newConfirm="",e.oldPassword=""}))}else yield(yield e.alertCtrl.create({header:e.translateService.instant("common.alert"),subHeader:e.translateService.instant("config.alert-old-password-not-right"),buttons:["OK"]})).present()});return function(o){return i.apply(this,arguments)}}()):yield(yield e.alertCtrl.create({header:e.translateService.instant("common.alert"),subHeader:e.translateService.instant("config.alert-confirm-not-match"),buttons:["OK"]})).present():yield(yield e.alertCtrl.create({header:e.translateService.instant("common.alert"),subHeader:e.translateService.instant("config.alert-confirm-password-required"),buttons:["OK"]})).present():yield(yield e.alertCtrl.create({header:e.translateService.instant("common.alert"),subHeader:e.translateService.instant("config.alert-new-password-required"),buttons:["OK"]})).present():yield(yield e.alertCtrl.create({header:e.translateService.instant("common.alert"),subHeader:e.translateService.instant("config.alert-old-password-required"),buttons:["OK"]})).present():yield(yield e.alertCtrl.create({header:e.translateService.instant("common.alert"),subHeader:e.translateService.instant("config.alert-username-required"),buttons:["OK"]})).present()})()}disableOrEnableLogin(){this.isEnableLogin?this.userService.disableLogin().then(()=>{this.userService.setLoggedUser(null),this.navCtrl.navigateRoot("/contact")}):this.userService.enableLogin().then(()=>{this.userService.setLoggedUser(null)})}deleteUser(){this.userService.deleteUser().then(()=>{this.disableOrEnableLogin()})}changeLanguage(){this.userService.setCurrentLanguage(this.language)}switchToOffline(){var e=this;return(0,s.Z)(function*(){var o;yield(yield e.alertCtrl.create({header:e.translateService.instant("common.confirm"),message:e.translateService.instant("sync.switch-to-offline-confirm"),buttons:[{text:e.translateService.instant("common.cancel"),handler:()=>{}},{text:e.translateService.instant("common.agree"),handler:(o=(0,s.Z)(function*(){const l=[,e.userService.disableLogin()];yield Promise.all(l),yield e.userService.setLoggedUser(null),yield(yield e.alertCtrl.create({header:e.translateService.instant("common.alert"),subHeader:e.translateService.instant("sync.switch-note"),buttons:["OK"]})).present(),e.navCtrl.publish("reloadHome")}),function(){return o.apply(this,arguments)})}]})).present()})()}rememberFile(e,i){this.fileToUpload=e.target.files[0],this.browsePicture(i)}contactImageOrPlaceholder(){return v.W.contactImageOrPlaceholder(this.shop.iconUrl)}browsePicture(e){this.fileToUpload?this.dataService.uploadPicture(this.fileToUpload).then(i=>{i&&i.url?e(i.url):i&&i.error&&alert("C\xf3 v\u1ea5n \u0111\u1ec1 x\u1ea3y ra, h\xe3y th\u1eed l\u1ea1i sau. (English: Something wrong, please try again later).")}).catch(()=>{alert("C\xf3 v\u1ea5n \u0111\u1ec1 x\u1ea3y ra, h\xe3y th\u1eed l\u1ea1i sau. (English: Something wrong, please try again later).")}):alert(this.translateService.instant("note-add.no-picture-selected"))}isNotCordova(){return this.navCtrl.isNotCordova()}upload(e){var i=this;return(0,s.Z)(function*(){yield(yield i.actionSheetController.create({header:i.translateService.instant("common.select-image-source"),buttons:[{text:i.translateService.instant("common.load-from-gallery"),handler:()=>{i.doUpload(i.camera.PictureSourceType.PHOTOLIBRARY,l=>{e(l)})}},{text:i.translateService.instant("common.use-camera"),handler:()=>{i.doUpload(i.camera.PictureSourceType.CAMERA,l=>{e(l)})}},{text:i.translateService.instant("common.cancel"),role:"cancel"}]})).present()})()}doUpload(e,i){var o=this;return(0,s.Z)(function*(){o.camera.getPicture({quality:100,sourceType:e,destinationType:o.camera.DestinationType.DATA_URL,encodingType:o.camera.EncodingType.JPEG,mediaType:o.camera.MediaType.PICTURE}).then(function(){var _=(0,s.Z)(function*(f){const x=f,m=yield o.navCtrl.loading();o.dataService.uploadPictureBase64(x).then(function(){var u=(0,s.Z)(function*(g){yield m.dismiss(),g&&g.url?i(g.url):g&&g.error&&alert("C\xf3 v\u1ea5n \u0111\u1ec1 x\u1ea3y ra, h\xe3y th\u1eed l\u1ea1i sau. (English: Something wrong, please try again later).")});return function(g){return u.apply(this,arguments)}}()).catch(function(){var u=(0,s.Z)(function*(g){yield m.dismiss(),console.error(g)});return function(g){return u.apply(this,arguments)}}())});return function(f){return _.apply(this,arguments)}}())})()}getMyWebUrl(e){const i=JSON.parse(JSON.stringify(e));let o="";try{o=i.name,o=(0,T.CQ)(o),o=o.toLowerCase(),o=o.replace(/[^a-z0-9 -]/gi,""),o=o.replace(/ +(?= )/g,""),o=o.split(" ").join("-")}catch{o="abc"}return o||(o="abc"),"https://isale.online/"+i.id+"/"+o}openMyWeb(){this.analyticsService.logEvent("config-open-my-web");const e=this.getMyWebUrl(this.shop);this.navCtrl.openExternalUrl(e)}openExampleWeb(){this.analyticsService.logEvent("config-open-example-web"),this.navCtrl.openExternalUrl("https://isale.online/268/shop-isale")}goHelpPage(e){this.navCtrl.push("/help/"+e)}removeShopPhoto(){this.shop.iconUrl=null}removeBanner1(){this.web.bannerUrl1=null}removeBanner2(){this.web.bannerUrl2=null}removeBanner3(){this.web.bannerUrl3=null}deleteAccount(){var e=this;return(0,s.Z)(function*(){var o;yield(yield e.alertCtrl.create({header:e.translateService.instant("common.confirm"),message:e.translateService.instant("shop-add.delete-shop-alert"),buttons:[{text:e.translateService.instant("common.cancel"),handler:()=>{}},{text:e.translateService.instant("common.agree"),handler:(o=(0,s.Z)(function*(){const l=yield e.navCtrl.loading();e.dataService.delete("shop_config",e.shopConfig).then((0,s.Z)(function*(){yield e.logout(),yield l.dismiss()}))}),function(){return o.apply(this,arguments)})}]})).present()})()}logout(){var e=this;return(0,s.Z)(function*(){yield e.userService.removeRefreshToken().then((0,s.Z)(function*(){e.analyticsService.logEvent("logout-successfully"),yield e.storeService.exitStore(),yield e.fcmTokenService.removeLoggedTokens(),e.userService.setLoggedUser(null,!1),e.staffService.hasChooseStaff=!1,e.staffService.selectedStaff=null,e.staffService.staffsToSelect=null;const i=[];i.push(e.remoteAttrs()),i.push(e.userService.removeAttr("current-language")),i.push(e.userService.removeLastBackup()),i.push(e.userService.removeLastLogin()),yield Promise.all(i),yield e.userService.removeRefreshToken(),e.navCtrl.navigateRoot("/login")}))})()}changeAttr(e){this.userService.setAttr(e,this.userConfig[e][0]),this.navCtrl.publish("reset-"+e,this.userConfig[e][0]),this.navCtrl.publish("reloadHomeConfig")}userConfigHasDiff(){for(const e of Object.keys(this.userConfig))if(this.userConfig[e][0]!==this.userConfig[e][1])return!0;return!1}setOldConfigToNew(){for(const e of Object.keys(this.userConfig))this.userConfig[e][1]=this.userConfig[e][0]}getAttsFromService(){var e=this;return(0,s.Z)(function*(){for(const i of Object.keys(e.userConfig))e.userConfig[i][0]=yield e.userService.getAttr(i)})()}checkChange(){for(const e of Object.keys(this.userConfig))this.userConfig[e][1]!==this.userConfig[e][0]&&(this.changeAttr(e),this.userConfig[e][1]=this.userConfig[e][0])}remoteAttrs(){var e=this;return(0,s.Z)(function*(){const i=[];for(const o of Object.keys(e.userConfig))e.userConfig[o][1]!==e.userConfig[o][0]&&i.push(e.userService.removeAttr(o));yield Promise.all(i)})()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(w.G),n.Y36(d.sK),n.Y36(U.K),n.Y36(y.D),n.Y36(q.V1),n.Y36(J.d),n.Y36(r.BX),n.Y36(r.Br),n.Y36(N.x),n.Y36(S.s),n.Y36(L.y))},t.\u0275cmp=n.Xpm({type:t,selectors:[["config"]],viewQuery:function(e,i){if(1&e&&(n.Gf(I,5),n.Gf(k,5),n.Gf(Q,5),n.Gf(H,5)),2&e){let o;n.iGM(o=n.CRH())&&(i.fileUploadInput=o.first),n.iGM(o=n.CRH())&&(i.fileUploadInput1=o.first),n.iGM(o=n.CRH())&&(i.fileUploadInput2=o.first),n.iGM(o=n.CRH())&&(i.fileUploadInput3=o.first)}},decls:28,vars:23,consts:[["slot","start"],["menu","first"],["color","primary",3,"click"],["name","home"],["slot","end",4,"ngIf"],["color","primary",3,"ngModel","ngModelChange","ionChange"],["value","shop",1,"ion-text-wrap"],["value","web",1,"ion-text-wrap"],["value","language",1,"ion-text-wrap"],["class","ion-padding","style","background-color: #0275d8; margin: 20px; box-shadow: 5px 5px 3px #ccc; color: white;",4,"ngIf"],[4,"ngIf"],["class","ion-padding","style","background-color: #cccccc; margin: 20px; box-shadow: 5px 5px 3px #ccc;",4,"ngIf"],["class","ion-padding",4,"ngIf"],["lines","none",4,"ngIf"],["slot","end"],["size","large","color","success",3,"disabled","click",4,"ngIf"],["size","large","color","success",3,"disabled","click"],["name","checkmark"],[1,"ion-padding",2,"background-color","#0275d8","margin","20px","box-shadow","5px 5px 3px #ccc","color","white"],[3,"innerHTML"],["style","margin-top: 10px;",4,"ngIf"],[2,"margin-top","10px"],["color","light"],["color","success",3,"click"],["position","stacked","color","primary"],["type","text","placeholder","Vd: Flowers Shop",3,"ngModel","ngModelChange"],["type","text","placeholder","Vd: Chuy\xean cung c\u1ea5p h\xe0ng gia d\u1ee5ng",3,"ngModel","ngModelChange"],["clearInput","","type","tel","placeholder","Vd: 09123456789",3,"ngModel","ngModelChange"],["color","primary","position","stacked"],["style","max-width: 150px;",3,"src",4,"ngIf"],["color","secondary",3,"click",4,"ngIf"],["color","primary","for","files","style","margin-bottom: 10px; margin-top: 10px;",4,"ngIf"],["type","file","accept","image/*","id","files","style","width: 0; height: 0; font-size: 0;",3,"change",4,"ngIf"],["slot","end","fill","clear","size","small",3,"click",4,"ngIf"],["clearInput","","type","email","placeholder","abc@email.com",3,"ngModel","ngModelChange"],["clearInput","","type","text",3,"ngModel","ngModelChange"],["clearInput","","type","text","placeholder","Eg: https://www.facebook.com/dlv.isale",3,"ngModel","ngModelChange"],["clearInput","","type","text","placeholder","Eg: Vietcombank, BIDV...",3,"ngModel","ngModelChange"],["clearInput","","type","text","placeholder","Eg: Johny Doe",3,"ngModel","ngModelChange"],["clearInput","","type","text","placeholder","Eg: 123-666-999",3,"ngModel","ngModelChange"],[2,"max-width","150px",3,"src"],["color","secondary",3,"click"],["name","camera"],["color","primary","for","files",2,"margin-bottom","10px","margin-top","10px"],["type","file","accept","image/*","id","files",2,"width","0","height","0","font-size","0",3,"change"],["fileUploadInput",""],["slot","end","fill","clear","size","small",3,"click"],["size","small","name","trash-outline","slot","icon-only"],[1,"ion-padding",2,"background-color","#cccccc","margin","20px","box-shadow","5px 5px 3px #ccc"],["color","danger",3,"click"],["color","primary",1,"ion-text-wrap"],[3,"ngModel","ngModelChange"],["value","en"],["value","vn"],[3,"value",4,"ngFor","ngForOf"],["value","DD/MM/YYYY"],["value","MM/DD/YYYY"],["value","HH:mm"],["value","hh:mm A"],["position","stacked","color","primary",1,"ion-text-wrap"],["rows","3","type","text",2,"border","1px solid #ccc",3,"ngModel","ngModelChange"],[3,"value"],["slot","end","type","number",2,"text-align","right",3,"ngModel","ngModelChange"],[1,"ion-padding"],["color","success",3,"disabled","click"],["size","6"],["lines","none",1,"ion-no-padding"],[2,"margin-bottom","15px",3,"ngModel","ngModelChange"],["size","6",2,"padding-top","25px"],["color","warning",3,"click"],["size-lg","6","size-md","6","size-sm","12","size-xs","12"],["rows","5",2,"border","1px solid #ccc","padding","5px",3,"ngModel","placeholder","ngModelChange"],[2,"justify-content","center","align-items","center","display","flex","line-height","30px"],["name","help-circle","color","medium"],["color","medium",2,"font-size","0.8em"],[2,"justify-content","center","align-items","center","display","flex","line-height","30px",3,"click"],["rows","5",2,"border","1px solid #ccc","padding","5px","margin-bottom","15px",3,"ngModel","placeholder","ngModelChange"],["style","max-width: 150px; max-height: 150px;",3,"src",4,"ngIf"],[2,"width","100%","margin","0"],["size","5",2,"vertical-align","middle"],["color","primary","for","files1",4,"ngIf"],["type","file","accept","image/*","id","files1","style","width: 0; height: 0; font-size: 0;",3,"change",4,"ngIf"],["size","7"],["fill","clear","size","small",3,"click",4,"ngIf"],["clearInput","","type","text",3,"ngModel","placeholder","ngModelChange"],["color","primary","for","files2","style","margin-bottom: 10px; margin-top: 10px;",4,"ngIf"],["type","file","accept","image/*","id","files2","style","width: 0; height: 0; font-size: 0;",3,"change",4,"ngIf"],["color","primary","for","files3","style","margin-bottom: 10px; margin-top: 10px;",4,"ngIf"],["type","file","accept","image/*","id","files3","style","width: 0; height: 0; font-size: 0;",3,"change",4,"ngIf"],[2,"max-width","150px","max-height","150px",3,"src"],["color","primary","for","files1"],["type","file","accept","image/*","id","files1",2,"width","0","height","0","font-size","0",3,"change"],["fileUploadInput1",""],["fill","clear","size","small",3,"click"],["color","primary","for","files2",2,"margin-bottom","10px","margin-top","10px"],["type","file","accept","image/*","id","files2",2,"width","0","height","0","font-size","0",3,"change"],["fileUploadInput2",""],["color","primary","for","files3",2,"margin-bottom","10px","margin-top","10px"],["type","file","accept","image/*","id","files3",2,"width","0","height","0","font-size","0",3,"change"],["fileUploadInput3",""],["lines","none"],["button","","detail","",3,"click"],["name","help","slot","start"],["color","primary"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n._UZ(3,"ion-menu-button",1),n.TgZ(4,"ion-button",2),n.NdJ("click",function(){return i.checkSaveAndHome()}),n._UZ(5,"ion-icon",3),n.qZA()(),n.TgZ(6,"ion-title"),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.YNc(9,G,3,2,"ion-buttons",4),n.qZA(),n.TgZ(10,"ion-segment",5),n.NdJ("ngModelChange",function(l){return i.segment=l})("ionChange",function(){return i.changeSegment()}),n.TgZ(11,"ion-segment-button",6),n._uU(12),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"ion-segment-button",7),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"ion-segment-button",8),n._uU(18),n.ALo(19,"translate"),n.qZA()()(),n.TgZ(20,"ion-content"),n.YNc(21,E,4,4,"div",9),n.YNc(22,V,61,49,"ion-list",10),n.YNc(23,X,7,6,"div",11),n.YNc(24,en,108,81,"ion-list",10),n.YNc(25,on,5,4,"div",12),n.YNc(26,yn,119,92,"ion-grid",10),n.YNc(27,qn,6,3,"ion-list",13),n.qZA()),2&e&&(n.xp6(7),n.Oqu(n.lcZ(8,15,"config.title")),n.xp6(2),n.Q6J("ngIf","shop"===i.segment||"web"===i.segment||"language"===i.segment),n.xp6(1),n.Q6J("ngModel",i.segment),n.xp6(2),n.hij(" ",n.lcZ(13,17,"shop-add.tab-title")," "),n.xp6(3),n.hij(" ",n.lcZ(16,19,"config.web")," "),n.xp6(3),n.hij(" ",n.lcZ(19,21,"config.other-config")," "),n.xp6(2),n.Akn(i.navCtrl.hasAds()?"--padding-bottom: 60px":""),n.xp6(1),n.Q6J("ngIf","shop"===i.segment||"web"===i.segment),n.xp6(1),n.Q6J("ngIf","shop"===i.segment),n.xp6(1),n.Q6J("ngIf","shop"===i.segment),n.xp6(1),n.Q6J("ngIf","language"===i.segment),n.xp6(1),n.Q6J("ngIf","language"===i.segment),n.xp6(1),n.Q6J("ngIf","web"===i.segment),n.xp6(1),n.Q6J("ngIf","web"===i.segment))},dependencies:[h.sg,h.O5,C.JJ,C.On,r.YG,r.Sm,r.wI,r.W2,r.jY,r.Gu,r.gu,r.pK,r.Ie,r.Q$,r.q_,r.fG,r.Nd,r.cJ,r.GO,r.t9,r.n0,r.yW,r.g2,r.wd,r.ho,r.sr,r.w,r.as,r.QI,r.j9,d.X$],encapsulation:2}),t})()}];let Nn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[b.Bz.forChild(Jn),b.Bz]}),t})();var Sn=c(3093),Ln=c(2216);let In=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[h.ez,C.u5,r.Pc,Nn,Ln.uH,d.aw.forChild({loader:{provide:d.Zw,useFactory:Sn.x,deps:[A.eN]}})]}),t})()}}]);