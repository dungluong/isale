"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[646],{646:(P,U,r)=>{r.r(U),r.d(U,{HomeModule:()=>kt});var c=r(6895),l=r(191),i=r(4006),A=r(3196),m=r(5861),F=r(1716),I=r(6026),T=r(6723),g=r(1914),t=r(6738),u=r(7852),x=r(5851),_=r(9645),w=r(6961),p=r(212),S=r(8934),v=r(7488),J=r(3142),z=r(667),H=r(3306),L=r(323),Q=r(3736),B=r(3876),K=r(2703),R=r(7712),j=r(6861),Y=r(2216),G=r(360),W=r(5004);let $=(()=>{class o{constructor(e){this.navCtrl=e,this.contents=["tip.tip1","tip.tip2","tip.tip3","tip.tip4","tip.tip5","tip.tip6","tip.tip7","tip.tip8","tip.tip9","tip.tip10","tip.tip11","tip.tip12"],this.doInterval=()=>{this.content=this.contents[Math.floor(Math.random()*this.contents.length)]}}ngOnInit(){this.doInterval(),this.intervalId=setInterval(()=>{this.doInterval()},12e3)}ngOnDestroy(){clearInterval(this.intervalId)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x.G))},o.\u0275cmp=t.Xpm({type:o,selectors:[["tip"]],decls:8,vars:6,consts:[[2,"padding","5px 5px 5px 5px","background-color","#f0ad4e","color","white","border-radius","10px","line-height","20px"],["name","bulb-outline"],[2,"font-size","0.85em"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"ion-icon",1),t.TgZ(2,"ion-text",2),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA()()()),2&e&&(t.xp6(3),t.hij("\xa0",t.lcZ(4,2,"tip.title"),": "),t.xp6(3),t.Oqu(t.lcZ(7,4,n.content)))},dependencies:[l.gu,l.yW,H.X$],encapsulation:2}),o})();function q(o,d){1&o&&(t.TgZ(0,"ion-badge",28),t._uU(1,"\xa0"),t.qZA())}function V(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.navCtrl.push("/fbpage/notifications"))}),t._UZ(1,"ion-icon",26),t.YNc(2,q,2,0,"ion-badge",27),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.hasRecentNoti)}}function X(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",29)(1,"ion-label",15),t._uU(2),t.qZA(),t.TgZ(3,"ion-button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.navCtrl.push("/request-pro"))}),t._uU(4),t.ALo(5,"translate"),t._UZ(6,"ion-icon",31),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",e.proPlanExpiredAlert," "),t.xp6(2),t.hij(" ",t.lcZ(5,2,"home.extend-pro-plan")," ")}}function tt(o,d){if(1&o&&t._UZ(0,"ion-icon",38),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("font-size",n.fontSizeSmall?"25px":"35px"),t.Q6J("name",e.icon)("color",e.color)}}function et(o,d){if(1&o&&t._UZ(0,"ion-icon",39),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("color",e.customColor)("font-size",n.fontSizeSmall?"25px":"35px"),t.Q6J("name",e.icon)}}function nt(o,d){if(1&o&&t._UZ(0,"fa-icon",40),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("font-size",n.fontSizeSmall?"20px":"28px")("color",e.color),t.Q6J("icon",e.icon)}}function ot(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",33)(1,"ion-item",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,f=t.oxw();return t.KtG(a.path?f.navCtrl.push(a.path):a.click())}),t.TgZ(2,"ion-label",35),t.YNc(3,tt,1,4,"ion-icon",36),t.YNc(4,et,1,5,"ion-icon",36),t.YNc(5,nt,1,5,"fa-icon",37),t._UZ(6,"br"),t.TgZ(7,"ion-text",15),t._uU(8),t.ALo(9,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw().$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.isFaIcon&&e.color),t.xp6(1),t.Q6J("ngIf",!e.isFaIcon&&e.customColor),t.xp6(1),t.Q6J("ngIf",e.isFaIcon),t.xp6(2),t.Udp("font-size",n.fontSizeSmall?"0.6em":"0.9em"),t.xp6(1),t.hij(" ",t.lcZ(9,6,e.title)," ")}}function it(o,d){if(1&o&&(t.ynx(0),t.YNc(1,ot,10,8,"ion-col",32),t.BQk()),2&o){const e=d.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.tab===e.tab&&!e.hidden())}}function rt(o,d){if(1&o&&t._UZ(0,"ion-icon",38),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("font-size",n.fontSizeSmall?"25px":"35px"),t.Q6J("name",e.icon)("color",e.color)}}function at(o,d){if(1&o&&t._UZ(0,"ion-icon",39),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("color",e.customColor)("font-size",n.fontSizeSmall?"25px":"35px"),t.Q6J("name",e.icon)}}function st(o,d){if(1&o&&t._UZ(0,"fa-icon",40),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("font-size",n.fontSizeSmall?"20px":"28px")("color",e.color),t.Q6J("icon",e.icon)}}function ct(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",33)(1,"ion-item",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,f=t.oxw();return t.KtG(a.path?f.navCtrl.push(a.path):a.click())}),t.TgZ(2,"ion-label",35),t.YNc(3,rt,1,4,"ion-icon",36),t.YNc(4,at,1,5,"ion-icon",36),t.YNc(5,st,1,5,"fa-icon",37),t._UZ(6,"br"),t.TgZ(7,"ion-text",15),t._uU(8),t.ALo(9,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw().$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.isFaIcon&&e.color),t.xp6(1),t.Q6J("ngIf",!e.isFaIcon&&e.customColor),t.xp6(1),t.Q6J("ngIf",e.isFaIcon),t.xp6(2),t.Udp("font-size",n.fontSizeSmall?"0.6em":"0.9em"),t.xp6(1),t.hij(" ",t.lcZ(9,6,e.title)," ")}}function lt(o,d){if(1&o&&(t.ynx(0),t.YNc(1,ct,10,8,"ion-col",32),t.BQk()),2&o){const e=d.$implicit;t.xp6(1),t.Q6J("ngIf",!e.hidden())}}function dt(o,d){if(1&o&&t._UZ(0,"ion-icon",38),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("font-size",n.fontSizeSmall?"25px":"35px"),t.Q6J("name",e.icon)("color",e.color)}}function pt(o,d){if(1&o&&t._UZ(0,"ion-icon",39),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("color",e.customColor)("font-size",n.fontSizeSmall?"25px":"35px"),t.Q6J("name",e.icon)}}function ht(o,d){if(1&o&&t._UZ(0,"fa-icon",40),2&o){const e=t.oxw(2).$implicit,n=t.oxw();t.Udp("font-size",n.fontSizeSmall?"20px":"28px")("color",e.color),t.Q6J("icon",e.icon)}}function mt(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",33)(1,"ion-item",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,f=t.oxw();return t.KtG(a.path?f.navCtrl.push(a.path):a.click())}),t.TgZ(2,"ion-label",35),t.YNc(3,dt,1,4,"ion-icon",36),t.YNc(4,pt,1,5,"ion-icon",36),t.YNc(5,ht,1,5,"fa-icon",37),t._UZ(6,"br"),t.TgZ(7,"ion-text",15),t._uU(8),t.ALo(9,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw().$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.isFaIcon&&e.color),t.xp6(1),t.Q6J("ngIf",!e.isFaIcon&&e.customColor),t.xp6(1),t.Q6J("ngIf",e.isFaIcon),t.xp6(2),t.Udp("font-size",n.fontSizeSmall?"0.6em":"0.9em"),t.xp6(1),t.hij(" ",t.lcZ(9,6,e.title?e.title:e.titleFunc())," ")}}function ft(o,d){if(1&o&&(t.ynx(0),t.YNc(1,mt,10,8,"ion-col",32),t.BQk()),2&o){const e=d.$implicit;t.xp6(1),t.Q6J("ngIf",!e.hidden())}}function ut(o,d){if(1&o&&t._UZ(0,"p",45),2&o){const e=t.oxw(2);t.Q6J("innerHTML",e.trialAlert,t.oJD)}}function _t(o,d){1&o&&(t._UZ(0,"p",45),t.ALo(1,"translate")),2&o&&t.s9C("innerHTML",t.lcZ(1,1,"home.no-pro-plan"),t.oJD)}function gt(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,ut,1,1,"p",42),t.YNc(2,_t,2,3,"p",42),t.TgZ(3,"ion-button",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.navCtrl.push("/request-pro"))}),t._UZ(4,"ion-icon",44),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isOnTrial),t.xp6(1),t.Q6J("ngIf",!e.isOnTrial),t.xp6(3),t.hij("\xa0 ",t.lcZ(6,3,"home.request-pro-plan")," ")}}function vt(o,d){if(1&o&&(t.TgZ(0,"div",41)(1,"p",46),t._uU(2),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.proPlan)}}function xt(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openWeb())}),t.TgZ(1,"div",48),t._UZ(2,"ion-icon",49),t.TgZ(3,"span",50),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"ion-label",51),t._uU(7," https://isale.online/app "),t.qZA()()}2&o&&(t.xp6(4),t.hij("\xa0",t.lcZ(5,1,"home.browser"),""))}function St(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openAppAndroid())}),t._UZ(1,"ion-img",52),t.TgZ(2,"ion-label",51),t._uU(3," https://play.google.com/store/apps/details?id=com.dlv.isale "),t.qZA()()}}function Ct(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openAppIos())}),t._UZ(1,"ion-img",53),t.TgZ(2,"ion-label",51),t._uU(3," https://apps.apple.com/us/app/isale-management/id1485080690 "),t.qZA()()}}function Zt(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"hr"),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ion-button",54),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.configShop())}),t._UZ(6,"ion-icon",55),t._uU(7),t.ALo(8,"translate"),t.qZA()()}2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"shop-add.no-shop-message")),t.xp6(4),t.hij("\xa0 ",t.lcZ(8,4,"shop-add.config-shop")," "))}function Tt(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t._UZ(1,"hr"),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ion-button",54),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.navCtrl.push("/money-account/add"))}),t._UZ(6,"ion-icon",56),t._uU(7),t.ALo(8,"translate"),t.qZA()()}2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,2,"home.no-default-money-account-message")),t.xp6(4),t.hij("\xa0 ",t.lcZ(8,4,"home.create-default-wallet")," "))}function bt(o,d){1&o&&t._UZ(0,"rate")}function yt(o,d){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.store.name)}}function At(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-label",3),t.NdJ("click",function(){const f=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.selectShop(f))}),t._uU(2),t.YNc(3,yt,2,1,"p",18),t.qZA(),t.TgZ(4,"ion-button",57),t.NdJ("click",function(){const f=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.selectShop(f))}),t._UZ(5,"ion-icon",58),t.qZA()()}if(2&o){const e=d.$implicit;t.xp6(2),t.hij(" ",e.shopName," "),t.xp6(1),t.Q6J("ngIf",e.store)}}const Ut=[{path:"",component:(()=>{class o{constructor(e,n,a,f,C,b,k,y,E,N,M,O,Ft,Ht,Et,Mt,Nt,Ot,Jt){var s=this;this.platform=e,this.storage=n,this.navCtrl=a,this.barcodeScanner=f,this.alertCtrl=C,this.modalCtrl=b,this.productService=k,this.moneyAccountService=y,this.socialSharing=E,this.userService=N,this.dataService=M,this.staffService=O,this.translate=Ft,this.analyticsService=Ht,this.firebase=Et,this.storeService=Mt,this.fcmTokenService=Nt,this.omniChannelService=Ot,this.planService=Jt,this.hasMoneyAccount=!0,this.hasShop=!0,this.staffsToSelect=[],this.loading=!0,this.hasSelectedStaff=!1,this.selectedStaff=null,this.isMobile=!1,this.checkOrder=0,this.fontSizeSmall=!1,this.hideTablesFunction=!1,this.hideCalendarFunction=!1,this.hidePromotionFunction=!1,this.hideMaterials=!1,this.tab="selling",this.hasRecentNoti=!1,this.reloadRecentNoti=h=>{this.hasRecentNoti=h.detail},this.reloadConfig=(0,m.Z)(function*(){s.hideTablesFunction=yield s.userService.getAttr("hide-tables-function"),s.hideCalendarFunction=yield s.userService.getAttr("hide-calendar-function"),s.hidePromotionFunction=yield s.userService.getAttr("hide-promotion-function"),s.hideMaterials=yield s.userService.getAttr("hide-materials")}),this.reload=(0,m.Z)(function*(){s.staffService.hasChooseStaff?(s.hasSelectedStaff=s.staffService.hasChooseStaff,s.selectedStaff=s.staffService.selectedStaff,s.loading=!1):s.staffService.checkPermissions().then(h=>{if(!h||!h.length)return s.staffService.hasChooseStaff=!0,s.staffService.selectedStaff=null,s.hasSelectedStaff=!0,void(s.loading=!1);s.staffsToSelect=h,s.staffService.staffsToSelect=h,s.loading=!1,s.hasSelectedStaff=!1}),s.moneyAccountService.getDefault().then(h=>{s.hasMoneyAccount=!!h}),s.fontSizeSmall=yield s.userService.checkFontSizeSmall(),yield s.checkCurrentPlan(),yield s.checkNewVersion(),yield s.reloadConfig()}),this.scanForOrder=(0,m.Z)(function*(){if(!s.currentPlan&&s.checkOrder>=10&&!s.isOnTrial)return s.analyticsService.logEvent("home-check-order-alert"),void alert(s.translate.instant("order.check-order-alert",{total:s.checkOrder}));if(s.analyticsService.logEvent("home-scan-for-order"),s.navCtrl.isNotCordova()){const h=yield s.modalCtrl.create({component:I.k});yield h.present();const{data:Z}=yield h.onDidDismiss();Z&&Z.barcode&&(s.analyticsService.logEvent("home-scan-for-order-scanned-web"),s.doEnteredBarcode(Z.barcode))}else s.barcodeScanner.scan().then(h=>{!h||!h.text||(s.analyticsService.logEvent("home-scan-for-order-scanned"),s.doEnteredBarcode(h.text))}).catch(h=>{console.error(h)})}),this.doEnteredBarcode=h=>{!h||this.productService.searchByBarcode(h).then(Z=>{if(Z)return this.analyticsService.logEvent("home-scan-for-order-scanned-ok"),void this.navCtrl.push("/order/add",{product:Z.id,fromUnit:Z.fromUnit})})},this.newOrder=()=>{if(!this.currentPlan&&this.checkOrder>=10&&!this.isOnTrial)return this.analyticsService.logEvent("check-order-alert"),void alert(this.translate.instant("order.check-order-alert",{total:this.checkOrder}));this.navCtrl.push("/order/add")},this.viewDebts=()=>{this.navCtrl.push("/debt",{page:"debts"})},this.showPoint=()=>{if(!this.currentPlan&&!this.isOnTrial)return this.analyticsService.logEvent("point-check-pro-alert"),void alert(this.translate.instant("point.check-pro-alert"));this.navCtrl.push("/point-config")},this.scanNewProduct=()=>{if(this.platform.is("capacitor")||this.platform.is("cordova"))this.barcodeScanner.scan().then(h=>{!h||!h.text||this.productService.searchByBarcode(h.text).then(Z=>{Z?this.navCtrl.push("/product/detail",{id:Z.id}):this.navCtrl.push("/product/edit",{barcode:h.text})})}).catch(h=>{console.error(h)});else{const h=Math.random().toString(36).substring(7);this.navCtrl.push("/product/edit",{barcode:h})}},this.rate=()=>{this.analyticsService.logEvent("home-rate"),!(typeof AppRate>"u")&&AppRate.promptForRating(!0)},this.share=()=>{this.analyticsService.logEvent("home-share");const h=this.translate.instant("share.body"),Z=this.translate.instant("share.subject"),Pt=this.translate.instant("share.link-android"),Yt=this.translate.instant("share.link-android"),Dt=this.platform.is("ios")?Yt:Pt;this.socialSharing.share(h,Z,[],Dt).then((0,m.Z)(function*(){yield(yield s.alertCtrl.create({header:s.translate.instant("share.share"),message:s.translate.instant("share.thank-you"),buttons:[{text:s.translate.instant("common.agree"),handler:()=>{}}]})).present()})).catch(()=>{})},this.openWeb=(0,m.Z)(function*(){s.analyticsService.logEvent("open-web-on-home"),s.navCtrl.openExternalUrl("https://isale.online/app")}),this.openAppIos=()=>{this.analyticsService.logEvent("open-app-on-home-ios"),this.navCtrl.openExternalUrl("https://apps.apple.com/us/app/isale-management/id1485080690")},this.addMultiShop=()=>{if(!this.currentPlan&&!this.isOnTrial)return this.analyticsService.logEvent("check-store-alert"),void alert(this.translate.instant("store.check-store-alert"));this.navCtrl.push("/store")},this.items=[{tab:"selling",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateOrder),path:"/order/add",icon:"basket",color:"danger",title:"home.make-order"},{tab:"selling",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateOrder),click:this.scanForOrder,icon:"barcode",color:"success",title:"home.new-order-scan-barcode"},{tab:"selling",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateOrder||this.selectedStaff.updateStatusExceptDone),path:"/order",isFaIcon:!0,icon:"store",color:"#3880ff",title:"home.view-orders"},{tab:"inventory",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canUpdateDeleteProduct||this.selectedStaff.canCreateUpdateNote),path:"/product",icon:"cart",color:"warning",title:"home.view-products"},{tab:"inventory",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateUpdateNote),path:"/received-note",icon:"clipboard",color:"tertiary",title:"home.view-receiveds"},{tab:"selling",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateOrder),path:"/online-order",icon:"cloud",customColor:"#6C3483",title:"online-order.title"},{tab:"inventory",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateUpdateNote),path:"/transfer-note",isFaIcon:!0,icon:"truck",color:"#f88962",title:"home.view-transfer-notes"},{tab:"selling",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateUpdateDebt),click:this.viewDebts,isFaIcon:!0,icon:"hand-holding-usd",color:"#E74C3C",title:"home.view-debts"},{tab:"selling",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateNewTransaction||this.selectedStaff.canUpdateDeleteTransaction||this.selectedStaff.canCreateOrder||this.selectedStaff.canUpdateDeleteOrder||this.selectedStaff.canCreateUpdateDebt||this.selectedStaff.canCreateUpdateNote),path:"/trade",icon:"cash-outline",color:"warning",title:"trade.title"},{tab:"inventory",hidden:()=>this.hideMaterials||!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canUpdateDeleteProduct||this.selectedStaff.canCreateUpdateNote),path:"/product/material",icon:"fast-food",customColor:"#28B463",title:"home.view-materials"},{tab:"selling",hidden:()=>this.hideTablesFunction||!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateOrder),path:"/table",icon:"grid",customColor:"#3dc2ff",title:"table.title"},{tab:"selling",hidden:()=>this.hideCalendarFunction||!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateOrder),path:"/calendar",icon:"calendar",color:"danger",title:"calendar.title"},{tab:"selling",hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canCreateOrder),path:"/quote",icon:"reader-outline",customColor:"#0E8388",title:"quote.title"},{tab:"selling",hidden:()=>this.hidePromotionFunction||!(!this.selectedStaff||this.selectedStaff.hasFullAccess),path:"/promotion",icon:"gift",customColor:"#ff1aff",title:"promotion.title"},{tab:"selling",hidden:()=>this.selectedStaff,path:"/excel-report",icon:"trending-up",customColor:"#2C3E50",title:"excel-report-home.title"},{tab:"inventory",hidden:()=>this.selectedStaff,path:"/trade-category",icon:"folder",color:"tertiary",title:"trade-category.title"},{tab:"inventory",hidden:()=>this.selectedStaff,click:this.addMultiShop,icon:"business",color:"success",title:"store.add-multi-shops"},{tab:"selling",hidden:()=>this.selectedStaff||!this.navCtrl.isNotCordova(),path:"/fbpage",icon:"logo-facebook",customColor:"#4267B2",title:"fb-page.title"}],this.contactItems=[{hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess||this.selectedStaff.canViewAllContacts||this.selectedStaff.canManageContacts),path:"/contact",isFaIcon:!0,icon:"address-card",color:"#3dc2ff",title:"home.view-contacts"},{hidden:()=>this.selectedStaff,path:"/staff",isFaIcon:!0,icon:"people-arrows",color:"#f88962",title:"home.view-staffs"},{hidden:()=>!1,click:this.showPoint,icon:"star",customColor:"#6C3483",title:"point.title"},{hidden:()=>!1,path:"/note",icon:"document-text",color:"tertiary",title:"note.title"}],this.configItems=[{hidden:()=>!(!this.selectedStaff||this.selectedStaff.hasFullAccess),path:"/money-account",icon:"card",customColor:"#f88962",title:"home.view-money-accounts"},{hidden:()=>this.selectedStaff,path:"/config",icon:"settings",customColor:"#aaa",title:"config.title"},{hidden:()=>this.selectedStaff,path:"/request-pro",icon:"gift",customColor:"#9900cc",titleFunc:()=>this.currentPlan?"request-pro.title":"request-pro.title-extend"},{hidden:()=>!1,path:"/help",icon:"help",color:"danger",title:"home.view-helps"}],this.navCtrl.unsubscribe("reloadHome",this.reload),this.navCtrl.subscribe("reloadHome",this.reload),this.navCtrl.unsubscribe("reloadHomeConfig",this.reloadConfig),this.navCtrl.subscribe("reloadHomeConfig",this.reloadConfig)}ionViewWillLeave(){this.navCtrl.unsubscribe("recentNoti",this.reloadRecentNoti)}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.isMobile=e.platform.width()<720,e.platform.resize.subscribe(()=>{e.isMobile=e.platform.width()<720}),yield e.reload()})()}ionViewWillEnter(){var e=this;return(0,m.Z)(function*(){e.hasRecentNoti=yield e.omniChannelService.gotRecentNoti(),e.navCtrl.subscribe("recentNoti",e.reloadRecentNoti),yield e.analyticsService.setCurrentScreen("home")})()}checkCurrentPlan(){var e=this;return(0,m.Z)(function*(){e.shop=yield e.dataService.getFirstObject("shop"),e.hasShop=!!e.shop;let a=null;(e.shop?new Date(e.shop.createdAt):null)&&(a=new Date(e.shop.createdAt),a.setDate(a.getDate()+6)),e.currentPlan=yield e.planService.getCurrentPlan();const f=yield e.storage.get("has-plan-"+e.shop.id);if((!f||"1"!==f)&&e.currentPlan&&(yield e.storage.set("has-plan-"+e.shop.id,"1"),e.analyticsService.logEvent("request-pro-upgraded")),e.isOnTrial=yield e.planService.isOnTrial(e.currentPlan,e.shop),e.isOnTrial){e.trialAlert=e.translate.instant("home.pro-trial-alert",{date:e.dateFormat(a)});const C=yield e.storage.get("first-trial-alert-"+e.shop.id);(!C||"1"!==C)&&(yield(yield e.alertCtrl.create({header:e.translate.instant("common.confirm"),message:e.trialAlert,buttons:[{text:e.translate.instant("common.agree"),handler:()=>{}}]})).present(),yield e.storage.set("first-trial-alert-"+e.shop.id,"1"))}if(e.currentPlan){const C=e.dateFormat(e.currentPlan.startDate),b=e.dateFormat(e.currentPlan.endDate),k=new Date(e.currentPlan.endDate),y=new Date;y.setDate(y.getDate()+7);const E=yield e.storage.get("pro-plan-expired-dismiss-"+b);k<=y&&(e.proPlanExpiredAlert=e.translate.instant("home.pro-plan-expired-alert",{date:b})),k<=y&&"1"!==E&&(yield(yield e.alertCtrl.create({header:e.translate.instant("common.confirm"),message:e.proPlanExpiredAlert,buttons:[{text:e.translate.instant("home.pro-plan-expired-dismiss"),handler:(M=(0,m.Z)(function*(){yield e.storage.set("pro-plan-expired-dismiss-"+b,"1")}),function(){return M.apply(this,arguments)})},{text:e.translate.instant("common.agree"),handler:()=>{}}]})).present()),e.proPlan=yield e.translate.instant("home.pro-plan",{start:C,end:b}),yield e.removeBanner()}else e.checkOrder=yield e.planService.checkOrder();var M})()}setFontSize(){var e=this;return(0,m.Z)(function*(){e.fontSizeSmall=!e.fontSizeSmall,yield e.userService.setFontSizeSmall(e.fontSizeSmall)})()}checkNewVersion(){var e=this;return(0,m.Z)(function*(){const n=yield e.storage.get("new-version"),a=e.translate.instant("common.new-feature");n!==a&&(yield(yield e.alertCtrl.create({header:e.translate.instant("common.new-feature-title"),message:e.translate.instant("common.new-feature"),buttons:["OK"]})).present(),yield e.storage.set("new-version",a))})()}removeBanner(){var e=this;return(0,m.Z)(function*(){!e.platform.is("ios")&&!e.platform.is("android")||e.currentPlan&&e.currentPlan.isTrial||(e.navCtrl.setHasAds(!1),yield F.TQ.hideBanner().then(n=>{},n=>{console.error(n)}).catch(n=>{console.error(n)}))})()}dateFormat(e){return g.C.toUiDateString(e)}openAppAndroid(){var e=this;return(0,m.Z)(function*(){e.analyticsService.logEvent("open-app-on-home"),e.navCtrl.openExternalUrl("https://play.google.com/store/apps/details?id=com.dlv.isale")})()}selectShop(e){var n=this;return(0,m.Z)(function*(){n.staffService.selectedStaff=e,n.staffService.hasChooseStaff=!0,n.hasSelectedStaff=!0,n.selectedStaff=e,n.userService.setLoggedUser(n.userService.loggedUser),e.store&&n.storeService.loginAsStore(e.store),yield n.getShopConfig(),yield n.checkCurrentPlan(),!n.navCtrl.isNotCordova()&&n.firebase.getToken().then(function(){var a=(0,m.Z)(function*(f){yield n.fcmTokenService.saveToken(f)});return function(f){return a.apply(this,arguments)}}(),a=>{console.error(a)})})()}getShopConfig(){var e=this;return(0,m.Z)(function*(){const n=yield e.dataService.getFirstObject("shop_config");if(!n)return;const a=n.language?n.language:"vn",f=n.currency?n.currency:"VND",C=n.dateFormat?n.dateFormat:"DD/MM/YYYY",b=n.timeFormat?n.timeFormat:"HH:mm",k=!!n.outStockNotSell&&n.outStockNotSell,y=!!n.printOrderLikeInvoice&&n.printOrderLikeInvoice,E=!!n.hideTax&&n.hideTax;e.hideTablesFunction=!!n.hideTablesFunction&&n.hideTablesFunction,e.hideCalendarFunction=!!n.hideCalendarFunction&&n.hideCalendarFunction,e.hidePromotionFunction=!!n.hidePromotionFunction&&n.hidePromotionFunction,e.hideMaterials=!!n.hideMaterials&&n.hideMaterials;const N=n.orderInvoiceMaxEmptyRows?n.orderInvoiceMaxEmptyRows:10,M=!n.hideDiscountColumn||n.hideDiscountColumn,O=!n.showStaffNameUnderSign||n.showStaffNameUnderSign;yield e.userService.setAttr("current-currency",f),yield e.userService.setCurrentLanguage(a),yield e.userService.setAttr("date-format",C),yield e.userService.setAttr("time-format",b),yield e.userService.setAttr("out-stock",k),yield e.userService.setAttr("print-order-like-invoice",y),yield e.userService.setAttr("hide-tax",E),yield e.userService.setAttr("hide-tables-function",e.hideTablesFunction),yield e.userService.setAttr("hide-calendar-function",e.hideCalendarFunction),yield e.userService.setAttr("hide-promotion-function",e.hidePromotionFunction),yield e.userService.setAttr("hide-materials",e.hideMaterials),yield e.userService.setAttr("order-invoice-max-empty-rows",N),yield e.userService.setAttr("hide-discount-column",M),yield e.userService.setAttr("show-staff-name-under-sign",O)})()}loginAsOwner(){var e=this;return(0,m.Z)(function*(){e.staffService.hasChooseStaff=!0,e.staffService.selectedStaff=null,e.hasSelectedStaff=!0,e.selectedStaff=null,e.userService.setLoggedUser(e.userService.loggedUser),yield e.getShopConfig(),yield e.checkCurrentPlan(),e.firebase.getToken().then(function(){var n=(0,m.Z)(function*(a){yield e.fcmTokenService.saveToken(a)});return function(a){return n.apply(this,arguments)}}(),n=>{console.error(n)})})()}callPhone(e){!e||(this.analyticsService.logEvent("home-call-hotline"),T.W.callPhone(e))}sendEmail(e){!e||(this.analyticsService.logEvent("home-mail"),T.W.sendEmail(e))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.t4),t.Y36(u.V),t.Y36(x.G),t.Y36(_.m),t.Y36(l.Br),t.Y36(l.IN),t.Y36(w.M),t.Y36(p.U),t.Y36(S.e),t.Y36(v.K),t.Y36(J.D),t.Y36(z.x),t.Y36(H.sK),t.Y36(L.y),t.Y36(Q.L),t.Y36(B.d),t.Y36(K.s),t.Y36(R.Q),t.Y36(j.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["home"]],decls:67,vars:43,consts:[["slot","start"],["menu","first"],["slot","end"],[3,"click"],["name","text-outline","slot","icon-only"],["id","notification-button","style","position: relative; width: 42px; top:1px; right: 1px; overflow: visible !important;",3,"click",4,"ngIf"],[3,"hidden"],["lines","none","color","danger","style","--min-height: 0;",4,"ngIf"],[2,"padding-left","15px","padding-right","15px"],[1,"ion-text-wrap",3,"ngModel","ngModelChange"],["value","selling",1,"ion-text-wrap"],["value","inventory",1,"ion-text-wrap"],[4,"ngFor","ngForOf"],["style","padding: 10px; margin: 10px; background-color: #f0ad4e; color: white; border-radius: 10px;",4,"ngIf"],["lines","none",2,"padding-top","0px !important"],[1,"ion-text-wrap"],["lines","none","style","padding-top: 0px !important; cursor: pointer;",3,"click",4,"ngIf"],[1,"ion-padding",2,"padding-top","0px !important"],[4,"ngIf"],[2,"padding-left","20px","padding-right","20px"],["lines","inset"],[2,"height","5px","font-size","0px"],[1,"ion-padding"],["fill","outline","color","secondary","size","small",3,"click"],["name","log-in","slot","start"],["id","notification-button",2,"position","relative","width","42px","top","1px","right","1px","overflow","visible !important",3,"click"],["name","notifications"],["id","notifications-badge","color","danger","style","background-color: red; position: absolute; top: 0; right: 0px; font-size: 0.6em; --padding-start: 0; --padding-end: 0; --padding-top: 0; --padding-bottom: 0",4,"ngIf"],["id","notifications-badge","color","danger",2,"background-color","red","position","absolute","top","0","right","0px","font-size","0.6em","--padding-start","0","--padding-end","0","--padding-top","0","--padding-bottom","0"],["lines","none","color","danger",2,"--min-height","0"],["color","success","size","default",3,"click"],["slot","end","name","basket"],["size-xs","3","size-sm","3","size-md","2","size-md","2",4,"ngIf"],["size-xs","3","size-sm","3","size-md","2","size-md","2"],["lines","none",1,"box_home",3,"click"],[1,"ion-text-wrap","ion-text-center"],[3,"name","color","fontSize",4,"ngIf"],["slot","start",3,"icon","fontSize","color",4,"ngIf"],[3,"name","color"],[3,"name"],["slot","start",3,"icon"],[2,"padding","10px","margin","10px","background-color","#f0ad4e","color","white","border-radius","10px"],["style","margin: 5px 5px 5px 5px;",3,"innerHTML",4,"ngIf"],["color","success","fill","solid",3,"click"],["name","gift","slot","start"],[2,"margin","5px 5px 5px 5px",3,"innerHTML"],[2,"margin","5px 5px 5px 5px"],["lines","none",2,"padding-top","0px !important","cursor","pointer",3,"click"],["slot","start",2,"width","100px","background-color","#000000","color","#ffffff","border-radius","5px","padding","5px","text-align","left","vertical-align","middle"],["name","globe","color","success",2,"float","left","font-size","22px"],[2,"font-size","0.7em","font-weight","bold","margin-bottom","5px"],["color","primary",1,"ion-text-wrap",2,"font-size","0.9em"],["src","./assets/android-app.png","slot","start",2,"width","100px"],["src","./assets/ios-app.png","slot","start",2,"width","100px"],["expand","block","color","danger","fill","outline",3,"click"],["name","settings","slot","start"],["name","card","slot","start"],["slot","end",3,"click"],["name","log-in","slot","icon-only"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-menu-button",1),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"ion-buttons",2)(8,"ion-button",3),t.NdJ("click",function(){return n.setFontSize()}),t._UZ(9,"ion-icon",4),t.qZA(),t.YNc(10,V,3,1,"ion-button",5),t.qZA()()(),t.TgZ(11,"ion-content")(12,"div",6),t.YNc(13,X,7,4,"ion-item",7),t.TgZ(14,"p",8),t._UZ(15,"tip"),t.qZA(),t.TgZ(16,"ion-segment",9),t.NdJ("ngModelChange",function(f){return n.tab=f}),t.TgZ(17,"ion-segment-button",10),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"ion-segment-button",11),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"ion-grid")(24,"ion-row"),t.YNc(25,it,2,1,"ng-container",12),t.qZA()(),t.TgZ(26,"ion-item-divider")(27,"ion-label"),t._uU(28),t.ALo(29,"translate"),t.qZA()(),t.TgZ(30,"ion-grid")(31,"ion-row"),t.YNc(32,lt,2,1,"ng-container",12),t.qZA()(),t.TgZ(33,"ion-item-divider")(34,"ion-label"),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"ion-grid")(38,"ion-row"),t.YNc(39,ft,2,1,"ng-container",12),t.qZA()(),t.YNc(40,gt,7,5,"div",13),t.YNc(41,vt,3,1,"div",13),t.TgZ(42,"ion-item",14)(43,"ion-label",15),t._uU(44),t.ALo(45,"translate"),t.qZA()(),t.YNc(46,xt,8,3,"ion-item",16),t.YNc(47,St,4,0,"ion-item",16),t.YNc(48,Ct,4,0,"ion-item",16),t.TgZ(49,"div",17),t.YNc(50,Zt,9,6,"div",18),t.YNc(51,Tt,9,6,"div",18),t.YNc(52,bt,1,0,"rate",18),t._UZ(53,"support"),t.qZA()(),t.TgZ(54,"div",6)(55,"p",19),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"ion-list",20),t.YNc(59,At,6,2,"ion-item",12),t.TgZ(60,"ion-item",21),t._uU(61,"\xa0"),t.qZA()(),t.TgZ(62,"div",22)(63,"ion-button",23),t.NdJ("click",function(){return n.loginAsOwner()}),t._UZ(64,"ion-icon",24),t._uU(65),t.ALo(66,"translate"),t.qZA()()()()),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,27,"home.title")),t.xp6(5),t.Q6J("ngIf",n.navCtrl.isNotCordova()),t.xp6(1),t.Akn(n.navCtrl.hasAds()?"--padding-bottom: 60px":""),t.xp6(1),t.Q6J("hidden",n.loading||!n.hasSelectedStaff),t.xp6(1),t.Q6J("ngIf",n.proPlanExpiredAlert),t.xp6(3),t.Q6J("ngModel",n.tab),t.xp6(2),t.hij(" ",t.lcZ(19,29,"home.tab-selling")," "),t.xp6(3),t.hij(" ",t.lcZ(22,31,"home.tab-inventory")," "),t.xp6(4),t.Q6J("ngForOf",n.items),t.xp6(3),t.Oqu(t.lcZ(29,33,"home.tab-contacts")),t.xp6(4),t.Q6J("ngForOf",n.contactItems),t.xp6(3),t.Oqu(t.lcZ(36,35,"home.tab-config")),t.xp6(4),t.Q6J("ngForOf",n.configItems),t.xp6(1),t.Q6J("ngIf",!n.currentPlan&&!n.navCtrl.isIosReview()),t.xp6(1),t.Q6J("ngIf",n.currentPlan&&!n.navCtrl.isIosReview()),t.xp6(3),t.hij(" ",t.lcZ(45,37,"common.app-version")," "),t.xp6(2),t.Q6J("ngIf",!n.navCtrl.isNotCordova()),t.xp6(1),t.Q6J("ngIf",(n.navCtrl.isWeb()||n.navCtrl.isIos())&&!n.navCtrl.isIosReview()),t.xp6(1),t.Q6J("ngIf",!n.navCtrl.isIos()||n.navCtrl.isWeb()),t.xp6(2),t.Q6J("ngIf",!n.hasShop&&!n.selectedStaff),t.xp6(1),t.Q6J("ngIf",!n.hasMoneyAccount&&!n.selectedStaff),t.xp6(1),t.Q6J("ngIf",!n.navCtrl.isIosReview()),t.xp6(2),t.Q6J("hidden",n.loading||n.hasSelectedStaff),t.xp6(2),t.Oqu(t.lcZ(57,39,"staff.select-shop-note")),t.xp6(3),t.Q6J("ngForOf",n.staffsToSelect),t.xp6(6),t.hij(" ",t.lcZ(66,41,"staff.cancel-select-shop")," "))},dependencies:[c.sg,c.O5,i.JJ,i.On,l.yp,l.YG,l.Sm,l.wI,l.W2,l.jY,l.Gu,l.gu,l.Xz,l.Ie,l.rH,l.Q$,l.q_,l.fG,l.Nd,l.cJ,l.GO,l.yW,l.wd,l.sr,l.QI,Y.BN,G.Y,W.T,$,H.X$],styles:[".box_home[_ngcontent-%COMP%]{border:1px solid #bbb;border-radius:10px;height:105px;cursor:pointer;--padding-start: 3px;--inner-padding-end: 0}"]}),o})()}];let It=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[A.Bz.forChild(Ut),A.Bz]}),o})();var wt=r(529),D=r(3093);let kt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,i.u5,l.Pc,It,Y.uH,D.m,H.aw.forChild({loader:{provide:H.Zw,useFactory:D.x,deps:[wt.eN]}})]}),o})()},6026:(P,U,r)=>{r.d(U,{k:()=>I});var c=r(6738),l=r(191),i=r(6961),A=r(4006),m=r(3306);const F=["barcodeInput"];let I=(()=>{class T{constructor(t,u){this.viewCtrl=t,this.productService=u}ngOnInit(){this.barcodeFocus()}ionViewLoaded(){this.barcodeFocus()}barcodeFocus(){setTimeout(()=>{this.barcodeInput.setFocus()},600)}barcodeChanged(){!this.barcode||this.barcode.length<5||this.productService.searchByBarcode(this.barcode).then(t=>{!t||this.ok()})}dismiss(){this.viewCtrl.dismiss()}ok(){this.viewCtrl.dismiss({barcode:this.barcode})}}return T.\u0275fac=function(t){return new(t||T)(c.Y36(l.IN),c.Y36(i.M))},T.\u0275cmp=c.Xpm({type:T,selectors:[["barcode-input"]],viewQuery:function(t,u){if(1&t&&c.Gf(F,7),2&t){let x;c.iGM(x=c.CRH())&&(u.barcodeInput=x.first)}},decls:22,vars:13,consts:[["slot","start"],[3,"click"],["name","close"],[1,"ion-padding"],["clearInput","","autofocus","true","type","text",3,"placeholder","ngModel","ngModelChange"],["barcodeInput",""],["color","primary","expand","block",3,"click"],["color","secondary","expand","block",3,"click"]],template:function(t,u){1&t&&(c.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),c.NdJ("click",function(){return u.dismiss()}),c._UZ(4,"ion-icon",2),c.qZA()(),c.TgZ(5,"ion-title"),c._uU(6),c.ALo(7,"translate"),c.qZA()()(),c.TgZ(8,"ion-content",3)(9,"ion-input",4,5),c.NdJ("ngModelChange",function(_){return u.barcode=_})("ngModelChange",function(){return u.barcodeChanged()}),c.ALo(11,"translate"),c.qZA(),c.TgZ(12,"ion-grid")(13,"ion-row")(14,"ion-col")(15,"ion-button",6),c.NdJ("click",function(){return u.ok()}),c._uU(16),c.ALo(17,"translate"),c.qZA()(),c.TgZ(18,"ion-col")(19,"ion-button",7),c.NdJ("click",function(){return u.dismiss()}),c._uU(20),c.ALo(21,"translate"),c.qZA()()()()()),2&t&&(c.xp6(6),c.hij(" ",c.lcZ(7,5,"order-add.enter-barcode")," "),c.xp6(3),c.s9C("placeholder",c.lcZ(11,7,"order-add.enter-barcode-placeholder")),c.Q6J("ngModel",u.barcode),c.xp6(7),c.Oqu(c.lcZ(17,9,"common.agree")),c.xp6(4),c.hij("",c.lcZ(21,11,"common.cancel")," "))},dependencies:[A.JJ,A.On,l.YG,l.Sm,l.wI,l.W2,l.jY,l.Gu,l.gu,l.pK,l.Nd,l.wd,l.sr,l.j9,m.X$],encapsulation:2}),T})()},360:(P,U,r)=>{r.d(U,{Y:()=>x});var c=r(5861),l=r(6723),i=r(6738),A=r(5851),m=r(323),F=r(7852),I=r(3306),T=r(6895),g=r(191);function t(_,w){if(1&_){const p=i.EpF();i.TgZ(0,"ion-button",13),i.NdJ("click",function(){i.CHM(p);const v=i.oxw(2);return i.KtG(v.hideSupport())}),i._UZ(1,"ion-icon",14),i.qZA()}}function u(_,w){if(1&_){const p=i.EpF();i.TgZ(0,"div",1)(1,"ion-item",2),i.NdJ("click",function(){i.CHM(p);const v=i.oxw();return i.KtG(v.callPhone("+84869366606"))}),i.TgZ(2,"ion-label",3)(3,"h2")(4,"strong"),i._uU(5),i.ALo(6,"translate"),i.qZA()()(),i.YNc(7,t,2,0,"ion-button",4),i.qZA(),i.TgZ(8,"p")(9,"i"),i._uU(10),i.ALo(11,"translate"),i.qZA()(),i.TgZ(12,"ion-button",5),i.NdJ("click",function(){i.CHM(p);const v=i.oxw();return i.KtG(v.sendTicket())}),i._UZ(13,"ion-icon",6),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.TgZ(16,"ion-grid")(17,"ion-row")(18,"ion-col",7)(19,"ion-item",8),i.NdJ("click",function(){i.CHM(p);const v=i.oxw();return i.KtG(v.callPhone("+84869366606"))}),i._UZ(20,"ion-icon",9),i.TgZ(21,"ion-label",10),i._uU(22),i.ALo(23,"translate"),i.qZA()()(),i.TgZ(24,"ion-col",7)(25,"ion-item",8),i.NdJ("click",function(){i.CHM(p);const v=i.oxw();return i.KtG(v.sendEmail("dlv.isale.app@gmail.com"))}),i._UZ(26,"ion-icon",11),i.TgZ(27,"ion-label",12),i._uU(28),i.ALo(29,"translate"),i.qZA()()()()()()}if(2&_){const p=i.oxw();i.xp6(5),i.hij("",i.lcZ(6,6,"common.contact"),":"),i.xp6(2),i.Q6J("ngIf",!p.neverHide),i.xp6(3),i.Oqu(i.lcZ(11,8,"ticket-add.send-ticket-note")),i.xp6(4),i.hij("\xa0 ",i.lcZ(15,10,"ticket-add.title")," "),i.xp6(8),i.hij(" ",i.lcZ(23,12,"common.hotline"),": (+84) 0383.838.394 "),i.xp6(6),i.hij(" ",i.lcZ(29,14,"common.email"),": dlv.isale.app@gmail.com ")}}let x=(()=>{class _{constructor(p,S,v,J){this.navCtrl=p,this.analyticsService=S,this.storage=v,this.translate=J,this.neverHide=!1,this.isHide=!1}ngOnInit(){var p=this;return(0,c.Z)(function*(){p.isHide=!!(yield p.storage.get("hide-support"))})()}callPhone(p){!p||(this.analyticsService.logEvent("support-call-hotline"),l.W.callPhone(p))}sendEmail(p){!p||(this.analyticsService.logEvent("support-email"),l.W.sendEmail(p))}sendTicket(){this.navCtrl.push("/ticket/add",null)}hideSupport(){var p=this;return(0,c.Z)(function*(){p.analyticsService.logEvent("support-hide"),p.isHide=!0,alert(p.translate.instant("support.alert")),yield p.storage.set("hide-support","1")})()}}return _.\u0275fac=function(p){return new(p||_)(i.Y36(A.G),i.Y36(m.y),i.Y36(F.V),i.Y36(I.sK))},_.\u0275cmp=i.Xpm({type:_,selectors:[["support"]],inputs:{neverHide:"neverHide"},decls:1,vars:1,consts:[["style","padding: 5px; border: 1px solid #D3679D; border-radius: 10px; margin-top: 10px;",4,"ngIf"],[2,"padding","5px","border","1px solid #D3679D","border-radius","10px","margin-top","10px"],["lines","none",1,"ion-no-padding",2,"padding-top","10px !important","min-height","0 !important","--min-height","0 !important",3,"click"],[2,"margin","0 !important","padding","0 !important"],["slot","end","size","small","fill","clear",3,"click",4,"ngIf"],["color","danger",3,"click"],["name","mail"],[2,"padding","0 !important","margin","0 !important"],[1,"ion-no-padding",2,"padding-top","0px !important","cursor","pointer",3,"click"],["name","call","slot","start","color","tertiary"],[1,"ion-text-wrap"],["name","mail","slot","start","color","danger"],["color","danger",1,"ion-text-wrap"],["slot","end","size","small","fill","clear",3,"click"],["name","close","slot","icon-only"]],template:function(p,S){1&p&&i.YNc(0,u,30,16,"div",0),2&p&&i.Q6J("ngIf",!S.isHide||S.neverHide)},dependencies:[T.O5,g.YG,g.wI,g.jY,g.gu,g.Ie,g.Q$,g.Nd,I.X$],encapsulation:2}),_})()}}]);