"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1529],{1529:(Te,k,c)=>{c.r(k),c.d(k,{TableModule:()=>fe});var m=c(6895),h=c(4006),i=c(191),u=c(3306),O=c(529),U=c(3093),M=c(3196),d=c(5861),e=c(6738),x=c(5851),Z=c(2925),q=c(3876),v=c(323);let Q=(()=>{class o{constructor(t,n,a,l){this.navCtrl=t,this.shopTableService=n,this.storeService=a,this.analyticsService=l,this.params=null,this.table={},this.onKeyPress=p=>{!p.target||"body"!==p.target.localName||("s"===p.key||"S"===p.key)&&this.save()}}ionViewDidEnter(){this.navCtrl.addEventListener("keyup",this.onKeyPress)}ionViewWillLeave(){this.navCtrl.removeEventListener("keyup",this.onKeyPress)}ionViewWillEnter(){var t=this;return(0,d.Z)(function*(){yield t.analyticsService.setCurrentScreen("table-add")})()}ngOnInit(){this.table={};let t=0;const n=this.params?this.params:this.navCtrl.getParams();this.params=n,n&&n.id&&(t=n.id),t&&t>0&&this.shopTableService.getTable(t).then(a=>{this.table=a})}save(){var t=this;return(0,d.Z)(function*(){const n=yield t.storeService.getCurrentStore();t.table.storeId=n?n.id:0,t.shopTableService.saveTable(t.table).then((0,d.Z)(function*(){t.analyticsService.logEvent("table-add-save-success"),t.exitPage()}))})()}exitPage(){var t=this;return(0,d.Z)(function*(){yield t.navCtrl.popOnly(),t.navCtrl.publish("reloadTableList",null),t.navCtrl.publish("reloadTable",t.table)})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.G),e.Y36(Z.f),e.Y36(q.d),e.Y36(v.y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["table-add"]],decls:26,vars:22,consts:[["slot","start"],["defaultHref","/home"],["slot","end"],["color","primary",3,"click"],["name","checkmark"],["position","stacked","color","primary"],["clearInput","","type","text",3,"placeholder","ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"ion-buttons",2)(8,"ion-button",3),e.NdJ("click",function(){return n.save()}),e._UZ(9,"ion-icon",4),e._uU(10),e.ALo(11,"translate"),e.qZA()()()(),e.TgZ(12,"ion-content")(13,"ion-list")(14,"ion-item")(15,"ion-label",5),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"ion-input",6),e.NdJ("ngModelChange",function(l){return n.table.name=l}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"ion-item")(21,"ion-label",5),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"ion-input",6),e.NdJ("ngModelChange",function(l){return n.table.position=l}),e.ALo(25,"translate"),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,10,"table-add.title")),e.xp6(5),e.hij(" \xa0",e.lcZ(11,12,"action.save")," "),e.xp6(2),e.Akn(n.navCtrl.hasAds()?"--padding-bottom: 60px":""),e.xp6(4),e.Oqu(e.lcZ(17,14,"table-add.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(19,16,"table-add.enter-name")),e.Q6J("ngModel",n.table.name),e.xp6(4),e.Oqu(e.lcZ(23,18,"table-add.position")),e.xp6(2),e.s9C("placeholder",e.lcZ(25,20,"table-add.enter-position")),e.Q6J("ngModel",n.table.position))},dependencies:[h.JJ,h.On,i.oU,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.wd,i.sr,i.j9,i.cs,u.X$],encapsulation:2}),o})();var Y=c(7488);function L(o,r){if(1&o&&(e.TgZ(0,"ion-item")(1,"ion-label",7),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-text",8),e._uU(5),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"table-add.position")),e.xp6(3),e.hij(" ",t.table.position," ")}}let F=(()=>{class o{constructor(t,n,a,l,p,S,A){this.navCtrl=t,this.translateService=n,this.userService=a,this.shopTableService=l,this.actionSheetCtrl=p,this.alertCtrl=S,this.analyticsService=A,this.table={},this.params=null;const T=y=>{this.table&&y.detail.id===this.table.id&&this.reload()};this.navCtrl.unsubscribe("reloadTable",T),this.navCtrl.subscribe("reloadTable",T)}ionViewWillEnter(){var t=this;return(0,d.Z)(function*(){yield t.analyticsService.setCurrentScreen("table-detail")})()}ngOnInit(){this.reload()}reload(){this.table={},this.userService.getAttr("current-currency").then(t=>{this.currency=t}),this.params=this.navCtrl.getParams(this.params),this.params&&this.params.id&&this.params.id>0&&this.shopTableService.getTable(this.params.id).then(n=>{this.table=n})}edit(){this.navCtrl.push("/table/add",{id:this.table.id})}presentActionSheet(){var t=this;return(0,d.Z)(function*(){yield(yield t.actionSheetCtrl.create({header:t.translateService.instant("action.action"),buttons:[{text:t.translateService.instant("table.delete"),role:"destructive",handler:()=>{t.deleteTable()}},{text:t.translateService.instant("common.cancel"),role:"cancel",handler:()=>{}}]})).present()})()}deleteTable(){var t=this;return(0,d.Z)(function*(){(yield t.alertCtrl.create({header:t.translateService.instant("common.confirm"),message:t.translateService.instant("table.delete-alert"),buttons:[{text:t.translateService.instant("common.cancel"),handler:()=>{}},{text:t.translateService.instant("common.agree"),handler:()=>{t.shopTableService.deleteTable(t.table).then((0,d.Z)(function*(){t.analyticsService.logEvent("table-detail-delete-success"),t.navCtrl.publish("reloadTableList",null),t.navCtrl.pop()}))}}]})).present()})()}selectTable(t){this.navCtrl.push("/table/detail",{id:t})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.G),e.Y36(u.sK),e.Y36(Y.K),e.Y36(Z.f),e.Y36(i.BX),e.Y36(i.Br),e.Y36(v.y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["table-detail"]],decls:21,vars:10,consts:[["slot","start"],["defaultHref","/home"],["slot","end"],["color","primary",3,"click"],["name","create"],["name","ellipsis-vertical"],["lines","none"],["position","stacked","color","primary"],[1,"ion-text-wrap"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"ion-buttons",2)(8,"ion-button",3),e.NdJ("click",function(){return n.edit()}),e._UZ(9,"ion-icon",4),e.qZA(),e.TgZ(10,"ion-button",3),e.NdJ("click",function(){return n.presentActionSheet()}),e._UZ(11,"ion-icon",5),e.qZA()()()(),e.TgZ(12,"ion-content")(13,"ion-list",6)(14,"ion-item")(15,"ion-label",7),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"ion-text",8),e._uU(19),e.qZA()(),e.YNc(20,L,6,4,"ion-item",9),e.qZA()()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,6,"table-detail.title")),e.xp6(7),e.Akn(n.navCtrl.hasAds()?"--padding-bottom: 60px":""),e.xp6(4),e.Oqu(e.lcZ(17,8,"table-add.name")),e.xp6(3),e.hij(" ",n.table.name," "),e.xp6(1),e.Q6J("ngIf",n.table.position))},dependencies:[m.O5,i.oU,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.Ie,i.Q$,i.q_,i.yW,i.wd,i.sr,i.cs,u.X$],encapsulation:2}),o})();var K=c(7489),G=c(1914),E=c(6723),$=c(667);function z(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",5),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.dismiss())}),e._UZ(1,"ion-icon",15),e.qZA()}}function H(o,r){1&o&&e._UZ(0,"ion-menu-button",16)}function j(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.navCtrl.home())}),e._UZ(1,"ion-icon",18),e.qZA()}}function P(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",19),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openTableAdd())}),e._UZ(1,"ion-icon",20),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("hidden",t.staffService.isStaff())}}function B(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",21)(1,"ion-label",22),e._uU(2),e.qZA(),e.TgZ(3,"ion-buttons")(4,"ion-button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.exitStore())}),e._UZ(5,"ion-icon",24),e._uU(6),e.ALo(7,"translate"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.checkStore),e.xp6(4),e.hij(" ",e.lcZ(7,2,"store.exit-store")," ")}}function D(o,r){if(1&o&&(e.TgZ(0,"ion-segment-button",28),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function W(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-segment",25),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.regionSelected=a)})("ngModelChange",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeRegion())}),e.TgZ(1,"ion-segment-button",26),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,D,2,2,"ion-segment-button",27),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.regionSelected)("scrollable",!0),e.xp6(2),e.hij(" ",e.lcZ(3,4,"table.all-regions")," "),e.xp6(2),e.Q6J("ngForOf",t.regions)}}function X(o,r){if(1&o&&(e.TgZ(0,"span",37),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.hij(" - ",n.limitText(t.position),"")}}function V(o,r){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.order.contact.fullName," ")}}function R(o,r){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.order.contactName," ")}}function ee(o,r){if(1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.order.contactPhone,"")}}const C=function(o,r,t){return[o,r,"symbol","1.0-2",t]};function te(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"br"),e._uU(2),e.ALo(3,"currency"),e.BQk()),2&o){const t=r.$implicit,n=e.oxw(5);e.xp6(2),e.xDo(" ",t.code?t.code.toUpperCase()+"-":"","",t.title," | ",t.count," ",t.unit," | ",e.G7q(3,5,e.kEZ(11,C,t.total,n.currency,n.translateService.currentLang))," ")}}function ne(o,r){if(1&o&&(e.TgZ(0,"ion-text",44),e.YNc(1,te,4,15,"ng-container",41),e.qZA()),2&o){const t=e.oxw().$implicit;e.Udp("font-weight","normal"),e.xp6(1),e.Q6J("ngForOf",t.options)}}function oe(o,r){if(1&o&&(e.TgZ(0,"span")(1,"ion-text",42),e._uU(2),e.ALo(3,"currency"),e.YNc(4,ne,2,3,"ion-text",43),e.qZA(),e._UZ(5,"br"),e.qZA()),2&o){const t=r.$implicit,n=e.oxw(3);e.xp6(2),e.xDo(" ",t.productCode?t.productCode.toUpperCase()+"-":"","",t.productName," | ",t.count," ",t.unit," | ",e.G7q(3,6,e.kEZ(12,C,t.total,n.currency,n.translateService.currentLang))," "),e.xp6(2),e.Q6J("ngIf",t.options&&t.options.length)}}function ie(o,r){1&o&&(e.TgZ(0,"span")(1,"ion-text",42),e._uU(2,"..."),e.qZA()())}function ae(o,r){if(1&o&&(e.TgZ(0,"p")(1,"i",45),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o){const t=e.oxw(2).$implicit;e.xp6(2),e.AsE("",e.lcZ(3,2,"trade.staff")," ",t.order.staff.name,"")}}function re(o,r){if(1&o&&(e.TgZ(0,"ion-text",38),e._UZ(1,"br"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._uU(4," - "),e.TgZ(5,"span",39),e._uU(6),e.ALo(7,"currency"),e.qZA(),e._UZ(8,"br"),e.YNc(9,V,2,1,"p",40),e.YNc(10,R,2,1,"p",40),e.YNc(11,ee,2,1,"p",40),e.TgZ(12,"p"),e.YNc(13,oe,6,16,"span",41),e.ALo(14,"slice"),e.YNc(15,ie,3,0,"span",40),e.qZA(),e.YNc(16,ae,4,4,"p",40),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(3),e.hij("#",t.order.orderCode,""),e.xp6(3),e.Oqu(e.G7q(7,8,e.kEZ(18,C,t.order.total,n.currency,n.translateService.currentLang))),e.xp6(3),e.Q6J("ngIf",t.order.contactId&&0!==t.order.contactId&&t.order.contact),e.xp6(1),e.Q6J("ngIf",0===t.order.contactId&&t.order.contactName),e.xp6(1),e.Q6J("ngIf",0===t.order.contactId&&t.order.contactPhone),e.xp6(2),e.Q6J("ngForOf",e.Dn7(14,14,t.order.items,0,2)),e.xp6(2),e.Q6J("ngIf",t.order.items&&t.order.items.length>=3),e.xp6(1),e.Q6J("ngIf",t.order.staffId&&0!==t.order.staffId&&t.order.staff&&!n.staffService.isStaff())}}function le(o,r){1&o&&(e.TgZ(0,"ion-text",46),e._UZ(1,"br"),e._uU(2),e.ALo(3,"translate"),e._UZ(4,"br"),e.qZA()),2&o&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"table.no-order")," "))}function se(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",50),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,l=e.oxw();return e.KtG(l.selectTable(a))}),e._UZ(1,"ion-icon",51),e.qZA()}if(2&o){const t=e.oxw(2).$implicit;e.Q6J("color",t.order?"light":"secondary")}}function ce(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-buttons",4)(1,"ion-button",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,l=e.oxw();return e.KtG(l.addOrder(a))}),e._UZ(2,"ion-icon",48),e.qZA(),e.YNc(3,se,2,1,"ion-button",49),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("color",t.order?"light":"primary"),e.xp6(2),e.Q6J("ngIf",!n.selectedStaff||n.selectedStaff.hasFullAccess)}}function de(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-col",29)(1,"ion-item",30),e.NdJ("press",function(){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.presentActionSheet(l))}),e.TgZ(2,"ion-label",31)(3,"span",32),e.NdJ("click",function(){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.addOrder(l))}),e._uU(4),e.YNc(5,X,2,1,"span",33),e.qZA(),e.YNc(6,re,17,22,"ion-text",34),e.YNc(7,le,5,3,"ion-text",35),e.qZA(),e.YNc(8,ce,4,2,"ion-buttons",36),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Udp("background-color",t.order?"#3880ff":"#f4f5f8"),e.Q6J("color",t.order?"primary":"light"),e.xp6(1),e.Q6J("color",t.order?"warning":"primary"),e.xp6(2),e.hij("",n.limitText(t.name)," "),e.xp6(1),e.Q6J("ngIf",t.position),e.xp6(1),e.Q6J("ngIf",t.order),e.xp6(1),e.Q6J("ngIf",!t.order&&!n.searchMode),e.xp6(1),e.Q6J("ngIf",!n.searchMode)}}function pe(o,r){1&o&&(e.TgZ(0,"ion-item",52),e._UZ(1,"div",53),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,"table.no-table"),e.oJD))}function _e(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goHelpPage("table"))}),e._UZ(1,"ion-icon",55),e.TgZ(2,"ion-label",56),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"help-table.title")," "))}function ue(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ion-fab",57)(1,"ion-fab-button",5),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openTableAdd())}),e._UZ(2,"ion-icon",58),e.qZA(),e._uU(3,"\xa0 "),e.qZA()}if(2&o){const t=e.oxw();e.Akn(t.navCtrl.hasAds()?"margin-bottom: 60px":"")}}const me=[{path:"",component:(()=>{class o{constructor(t,n,a,l,p,S,A,T,y,J){var s=this;this.shopTableService=t,this.viewCtrl=n,this.translateService=a,this.staffService=l,this.navCtrl=p,this.storeService=S,this.actionSheetCtrl=A,this.alertCtrl=T,this.analyticsService=y,this.userService=J,this.searchKey="",this.noteFilter="frequency",this.regions=[],this.regionSelected="all",this.params=null,this.searchMode=!1,this.reload=(0,d.Z)(function*(){const be=yield s.navCtrl.loading();s.currency=yield s.userService.getAttr("current-currency"),s.store=yield s.storeService.getCurrentStore(),s.checkStore=s.store?s.translateService.instant("store.check-store",{shop:s.store.name}):null,s.selectedStaff=s.staffService.selectedStaff,s.shopTableService.getTables(s.store?s.store.id:0).then(function(){var ge=(0,d.Z)(function*(f){const w=[];for(const _ of f)_.position&&(w.find(g=>g===_.position)||w.push(_.position));s.regions=w;const I=yield s.shopTableService.getProcessingOrders();if(yield be.dismiss(),s.processingOrders=I?I.filter(_=>_.tableId>0):[],s.processingOrders.length)for(const _ of s.processingOrders){const b=f.find(g=>g.id===_.tableId);!b||(b.order=_,b.order.items=JSON.parse(_.itemsJson))}let N=f;s.searchMode&&(N=f.filter(_=>!I.find(g=>g.tableId==_.id))),s.originalTables=JSON.parse(JSON.stringify(N)),s.tables=N,s.filter()});return function(f){return ge.apply(this,arguments)}}())}),this.navCtrl.unsubscribe("reloadTableList",this.reload),this.navCtrl.subscribe("reloadTableList",this.reload)}ionViewWillEnter(){var t=this;return(0,d.Z)(function*(){t.params=t.navCtrl.getParams(t.params),t.params&&t.params.callback&&(t.callback=t.params.callback),t.params&&t.params.searchMode&&(t.searchMode=t.params.searchMode),yield t.analyticsService.setCurrentScreen("table")})()}ngOnInit(){this.reload()}changeRegion(){if("all"===this.regionSelected)return void this.clearSearch();this.analyticsService.logEvent("table-change-region");let t=JSON.parse(JSON.stringify(this.originalTables));const n=this.regionSelected?this.regionSelected.toLowerCase():"";!n||(t=t.filter(a=>a.position&&-1!==a.position.toLowerCase().indexOf(n)),this.tables=t)}addOrder(t){this.searchMode||t.order?this.selectTable(t):this.navCtrl.push("/order/add",{table:t})}openTableAdd(){this.navCtrl.push("/table/add",null)}search(){var t=this;return(0,d.Z)(function*(){t.analyticsService.logEvent("table-search");let n=JSON.parse(JSON.stringify(t.originalTables));if(null!==t.searchKey&&""!==t.searchKey){const a=t.searchKey.toLowerCase();n=n.filter(l=>l.name&&-1!==l.name.toLowerCase().indexOf(a)||l.position&&-1!==l.position.toLowerCase().indexOf(a))}t.tables=n})()}clearSearch(){this.searchKey=null,this.reload()}filter(){let t=JSON.parse(JSON.stringify(this.originalTables));t=this.sortByName(t),this.tables=t}sortByName(t){return t?K.orderBy(t,["name"],["asc"]):null}dateFormat(t){return G.C.toUiString(t)}limitText(t,n=200){return E.W.limitText(t,n)}selectTable(t){var n=this;return(0,d.Z)(function*(){if(n.searchMode)return n.callback?(n.callback(t),void(yield n.navCtrl.back())):void n.viewCtrl.dismiss(t);n.navCtrl.push("/table/detail",{id:t.id})})()}deleteTable(t){var n=this;return(0,d.Z)(function*(){yield(yield n.alertCtrl.create({header:n.translateService.instant("common.confirm"),message:n.translateService.instant("table.delete-alert"),buttons:[{text:n.translateService.instant("common.agree"),handler:()=>{n.shopTableService.deleteTable(t).then((0,d.Z)(function*(){n.analyticsService.logEvent("table-delete-success");let l=n.tables.findIndex(p=>p.id==t.id);l>=0&&n.tables.splice(l,1),l=n.originalTables.findIndex(p=>p.id==t.id),l>=0&&n.originalTables.splice(l,1)}))}},{text:n.translateService.instant("common.cancel"),handler:()=>{}}]})).present()})()}presentActionSheet(t){var n=this;return(0,d.Z)(function*(){yield(yield n.actionSheetCtrl.create({header:n.translateService.instant("action.action"),buttons:[{text:n.translateService.instant("table.delete"),role:"destructive",handler:()=>{n.deleteTable(t)}},{text:n.translateService.instant("table.view-detail"),handler:()=>{n.selectTable(t.id)}},{text:n.translateService.instant("common.cancel"),role:"cancel",handler:()=>{}}]})).present()})()}goHelpPage(t){this.navCtrl.push("/help/"+t)}exitStore(){var t=this;return(0,d.Z)(function*(){var a;yield(yield t.alertCtrl.create({header:t.translateService.instant("common.confirm"),message:t.translateService.instant("store.exit-store-alert",{shop:t.store.name}),buttons:[{text:t.translateService.instant("common.agree"),handler:(a=(0,d.Z)(function*(){yield t.storeService.exitStore(),yield t.reload()}),function(){return a.apply(this,arguments)})},{text:t.translateService.instant("common.cancel"),handler:()=>{}}]})).present()})()}dismiss(){var t=this;return(0,d.Z)(function*(){if(t.callback)return t.callback(null),void(yield t.navCtrl.back());t.viewCtrl.dismiss()})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.f),e.Y36(i.IN),e.Y36(u.sK),e.Y36($.x),e.Y36(x.G),e.Y36(q.d),e.Y36(i.BX),e.Y36(i.Br),e.Y36(v.y),e.Y36(Y.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["table"]],decls:24,vars:19,consts:[["slot","start"],[3,"click",4,"ngIf"],["menu","first",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],["slot","end"],[3,"click"],["name","refresh"],[3,"hidden","click",4,"ngIf"],["lines","none","color","success",4,"ngIf"],["debounce","700",3,"placeholder","ngModel","ionClear","ionChange","ngModelChange"],["class","ion-no-padding","scrollable","",3,"ngModel","scrollable","ngModelChange",4,"ngIf"],["size-xs","12","size-sm","12","size-md","4","size-lg","4",4,"ngFor","ngForOf"],["class","ion-text-wrap","lines","none",4,"ngIf"],["button","","detail","","lines","none",3,"click",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",3,"style",4,"ngIf"],["name","close"],["menu","first"],["color","primary",3,"click"],["name","home"],[3,"hidden","click"],["name","add-circle"],["lines","none","color","success"],[1,"ion-text-wrap"],["size","small",3,"click"],["name","exit","slot","start","size","small"],["scrollable","",1,"ion-no-padding",3,"ngModel","scrollable","ngModelChange"],["value","all",1,"ion-text-wrap"],["class","ion-text-wrap",3,"value",4,"ngFor","ngForOf"],[1,"ion-text-wrap",3,"value"],["size-xs","12","size-sm","12","size-md","4","size-lg","4"],["lines","none",2,"border-radius","10px","border-width","1px !important","border-color","#ccc !important","height","100%","box-shadow","rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px",3,"color","press"],[1,"ion-text-wrap",3,"color"],[2,"white-space","pre-wrap","cursor","pointer",3,"click"],["style","white-space: pre-wrap;",4,"ngIf"],["color","light",4,"ngIf"],["color","dark",4,"ngIf"],["slot","end",4,"ngIf"],[2,"white-space","pre-wrap"],["color","light"],["color","secondary"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"font-size","12px"],["style","font-size: 0.8em;","class","ion-text-wrap",3,"fontWeight",4,"ngIf"],[1,"ion-text-wrap",2,"font-size","0.8em"],[2,"font-size","11px"],["color","dark"],["size","large",3,"color","click"],["slot","icon-only","name","receipt"],["size","small",3,"color","click",4,"ngIf"],["size","small",3,"color","click"],["slot","icon-only","name","information-circle"],["lines","none",1,"ion-text-wrap"],[3,"innerHTML"],["button","","detail","","lines","none",3,"click"],["name","help","slot","start"],["color","primary"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.YNc(3,z,2,0,"ion-button",1),e.YNc(4,H,1,0,"ion-menu-button",2),e.YNc(5,j,2,0,"ion-button",3),e.qZA(),e.TgZ(6,"ion-title"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"ion-buttons",4)(10,"ion-button",5),e.NdJ("click",function(){return n.reload()}),e._UZ(11,"ion-icon",6),e.qZA(),e.YNc(12,P,2,1,"ion-button",7),e.qZA()(),e.YNc(13,B,8,4,"ion-item",8),e.qZA(),e.TgZ(14,"ion-content")(15,"ion-searchbar",9),e.NdJ("ionClear",function(){return n.clearSearch()})("ionChange",function(){return n.search()})("ngModelChange",function(l){return n.searchKey=l}),e.ALo(16,"translate"),e.qZA(),e.YNc(17,W,5,6,"ion-segment",10),e.TgZ(18,"ion-grid")(19,"ion-row"),e.YNc(20,de,9,9,"ion-col",11),e.qZA(),e.YNc(21,pe,3,3,"ion-item",12),e.YNc(22,_e,5,3,"ion-item",13),e.qZA(),e.YNc(23,ue,4,2,"ion-fab",14),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.searchMode),e.xp6(1),e.Q6J("ngIf",!n.searchMode),e.xp6(1),e.Q6J("ngIf",!n.searchMode),e.xp6(2),e.Oqu(e.lcZ(8,15,"table.title")),e.xp6(5),e.Q6J("ngIf",!n.selectedStaff||n.selectedStaff.hasFullAccess),e.xp6(1),e.Q6J("ngIf",n.checkStore&&(!n.selectedStaff||n.selectedStaff.hasFullAccess&&!n.selectedStaff.storeId)),e.xp6(1),e.Akn(n.navCtrl.hasAds()?"--padding-bottom: 60px":""),e.xp6(1),e.s9C("placeholder",e.lcZ(16,17,"table.search")),e.Q6J("ngModel",n.searchKey),e.xp6(2),e.Q6J("ngIf",n.regions&&n.regions.length),e.xp6(3),e.Q6J("ngForOf",n.tables),e.xp6(1),e.Q6J("ngIf",!n.originalTables||0===n.originalTables.length),e.xp6(1),e.Q6J("ngIf",!n.originalTables||0===n.originalTables.length),e.xp6(1),e.Q6J("ngIf",!n.selectedStaff||n.selectedStaff.hasFullAccess))},dependencies:[m.sg,m.O5,h.JJ,h.On,i.YG,i.Sm,i.wI,i.W2,i.IJ,i.W4,i.jY,i.Gu,i.gu,i.Ie,i.Q$,i.fG,i.Nd,i.VI,i.cJ,i.GO,i.yW,i.wd,i.sr,i.QI,i.j9,m.OU,m.H9,u.X$],encapsulation:2}),o})()},{path:"add",component:Q},{path:"detail",component:F}];let he=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[M.Bz.forChild(me),M.Bz]}),o})(),fe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,h.u5,i.Pc,he,U.m,u.aw.forChild({loader:{provide:u.Zw,useFactory:U.x,deps:[O.eN]}})]}),o})()}}]);